<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3.1 Hyperparameter Tuning | mlr3 book</title>
  <meta name="description" content="3.1 Hyperparameter Tuning | mlr3 book" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="3.1 Hyperparameter Tuning | mlr3 book" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://mlr3book.mlr-org.com/" />
  <meta property="og:image" content="https://mlr3book.mlr-org.com//block.png" />
  
  <meta name="github-repo" content="mlr-org/mlr3book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3.1 Hyperparameter Tuning | mlr3 book" />
  
  
  <meta name="twitter:image" content="https://mlr3book.mlr-org.com//block.png" />

<meta name="author" content="Marc Becker" />
<meta name="author" content="Martin Binder" />
<meta name="author" content="Bernd Bischl" />
<meta name="author" content="Michel Lang" />
<meta name="author" content="Florian Pfisterer" />
<meta name="author" content="Nicholas G. Reich" />
<meta name="author" content="Jakob Richter" />
<meta name="author" content="Patrick Schratz" />
<meta name="author" content="Raphael Sonabend" />


<meta name="date" content="2021-06-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" sizes="180x180" href="apple-touch-icon.png" />
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="optimization.html"/>
<link rel="next" href="searchspace.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">mlr3 Manual <img src='https://raw.githubusercontent.com/mlr-org/mlr3/master/man/figures/logo.png' width=30 /></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Citation Info</a></li>
<li class="chapter" data-level="" data-path="quickstart.html"><a href="quickstart.html"><i class="fa fa-check"></i>Quickstart</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction and Overview</a></li>
<li class="chapter" data-level="2" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>2</b> Basics</a>
<ul>
<li class="chapter" data-level="2.1" data-path="r6.html"><a href="r6.html"><i class="fa fa-check"></i><b>2.1</b> Quick R6 Intro for Beginners</a></li>
<li class="chapter" data-level="2.2" data-path="tasks.html"><a href="tasks.html"><i class="fa fa-check"></i><b>2.2</b> Tasks</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="tasks.html"><a href="tasks.html#tasks-types"><i class="fa fa-check"></i><b>2.2.1</b> Task Types</a></li>
<li class="chapter" data-level="2.2.2" data-path="tasks.html"><a href="tasks.html#tasks-creation"><i class="fa fa-check"></i><b>2.2.2</b> Task Creation</a></li>
<li class="chapter" data-level="2.2.3" data-path="tasks.html"><a href="tasks.html#tasks-predefined"><i class="fa fa-check"></i><b>2.2.3</b> Predefined tasks</a></li>
<li class="chapter" data-level="2.2.4" data-path="tasks.html"><a href="tasks.html#tasks-api"><i class="fa fa-check"></i><b>2.2.4</b> Task API</a>
<ul>
<li class="chapter" data-level="2.2.4.1" data-path="tasks.html"><a href="tasks.html#tasks-retrieving"><i class="fa fa-check"></i><b>2.2.4.1</b> Retrieving Data</a></li>
<li class="chapter" data-level="2.2.4.2" data-path="tasks.html"><a href="tasks.html#tasks-roles"><i class="fa fa-check"></i><b>2.2.4.2</b> Roles (Rows and Columns)</a></li>
<li class="chapter" data-level="2.2.4.3" data-path="tasks.html"><a href="tasks.html#tasks-mutators"><i class="fa fa-check"></i><b>2.2.4.3</b> Task Mutators</a></li>
</ul></li>
<li class="chapter" data-level="2.2.5" data-path="tasks.html"><a href="tasks.html#autoplot-task"><i class="fa fa-check"></i><b>2.2.5</b> Plotting Tasks</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="learners.html"><a href="learners.html"><i class="fa fa-check"></i><b>2.3</b> Learners</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="learners.html"><a href="learners.html#predefined-learners"><i class="fa fa-check"></i><b>2.3.1</b> Predefined Learners</a></li>
<li class="chapter" data-level="2.3.2" data-path="learners.html"><a href="learners.html#learner-api"><i class="fa fa-check"></i><b>2.3.2</b> Learner API</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="train-predict.html"><a href="train-predict.html"><i class="fa fa-check"></i><b>2.4</b> Train, Predict, Score</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="train-predict.html"><a href="train-predict.html#train-predict-objects"><i class="fa fa-check"></i><b>2.4.1</b> Creating Task and Learner Objects</a></li>
<li class="chapter" data-level="2.4.2" data-path="train-predict.html"><a href="train-predict.html#split-data"><i class="fa fa-check"></i><b>2.4.2</b> Setting up the train/test splits of the data</a></li>
<li class="chapter" data-level="2.4.3" data-path="train-predict.html"><a href="train-predict.html#training"><i class="fa fa-check"></i><b>2.4.3</b> Training the learner</a></li>
<li class="chapter" data-level="2.4.4" data-path="train-predict.html"><a href="train-predict.html#predicting"><i class="fa fa-check"></i><b>2.4.4</b> Predicting</a></li>
<li class="chapter" data-level="2.4.5" data-path="train-predict.html"><a href="train-predict.html#predict-type"><i class="fa fa-check"></i><b>2.4.5</b> Changing the Predict Type</a></li>
<li class="chapter" data-level="2.4.6" data-path="train-predict.html"><a href="train-predict.html#autoplot-prediction"><i class="fa fa-check"></i><b>2.4.6</b> Plotting Predictions</a></li>
<li class="chapter" data-level="2.4.7" data-path="train-predict.html"><a href="train-predict.html#measure"><i class="fa fa-check"></i><b>2.4.7</b> Performance assessment</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="resampling.html"><a href="resampling.html"><i class="fa fa-check"></i><b>2.5</b> Resampling</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="resampling.html"><a href="resampling.html#resampling-settings"><i class="fa fa-check"></i><b>2.5.1</b> Settings</a></li>
<li class="chapter" data-level="2.5.2" data-path="resampling.html"><a href="resampling.html#resampling-inst"><i class="fa fa-check"></i><b>2.5.2</b> Instantiation</a></li>
<li class="chapter" data-level="2.5.3" data-path="resampling.html"><a href="resampling.html#resampling-exec"><i class="fa fa-check"></i><b>2.5.3</b> Execution</a></li>
<li class="chapter" data-level="2.5.4" data-path="resampling.html"><a href="resampling.html#resamp-custom"><i class="fa fa-check"></i><b>2.5.4</b> Custom resampling</a></li>
<li class="chapter" data-level="2.5.5" data-path="resampling.html"><a href="resampling.html#resampling-with-predefined-groups"><i class="fa fa-check"></i><b>2.5.5</b> Resampling with predefined groups</a></li>
<li class="chapter" data-level="2.5.6" data-path="resampling.html"><a href="resampling.html#autoplot-resampleresult"><i class="fa fa-check"></i><b>2.5.6</b> Plotting Resample Results</a></li>
<li class="chapter" data-level="2.5.7" data-path="resampling.html"><a href="resampling.html#autoplot-resample-partition"><i class="fa fa-check"></i><b>2.5.7</b> Plotting Resample Partitions</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="benchmarking.html"><a href="benchmarking.html"><i class="fa fa-check"></i><b>2.6</b> Benchmarking</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="benchmarking.html"><a href="benchmarking.html#bm-design"><i class="fa fa-check"></i><b>2.6.1</b> Design Creation</a></li>
<li class="chapter" data-level="2.6.2" data-path="benchmarking.html"><a href="benchmarking.html#bm-exec"><i class="fa fa-check"></i><b>2.6.2</b> Execution and Aggregation of Results</a></li>
<li class="chapter" data-level="2.6.3" data-path="benchmarking.html"><a href="benchmarking.html#autoplot-benchmarkresult"><i class="fa fa-check"></i><b>2.6.3</b> Plotting Benchmark Results</a></li>
<li class="chapter" data-level="2.6.4" data-path="benchmarking.html"><a href="benchmarking.html#bm-resamp"><i class="fa fa-check"></i><b>2.6.4</b> Extracting ResampleResults</a></li>
<li class="chapter" data-level="2.6.5" data-path="benchmarking.html"><a href="benchmarking.html#converting-and-merging"><i class="fa fa-check"></i><b>2.6.5</b> Converting and Merging</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="binary-classification.html"><a href="binary-classification.html"><i class="fa fa-check"></i><b>2.7</b> Binary classification</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="binary-classification.html"><a href="binary-classification.html#binary-roc"><i class="fa fa-check"></i><b>2.7.1</b> ROC Curve and Thresholds</a></li>
<li class="chapter" data-level="2.7.2" data-path="binary-classification.html"><a href="binary-classification.html#threshold-tuning"><i class="fa fa-check"></i><b>2.7.2</b> Threshold Tuning</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="optimization.html"><a href="optimization.html"><i class="fa fa-check"></i><b>3</b> Model Optimization</a>
<ul>
<li class="chapter" data-level="3.1" data-path="tuning.html"><a href="tuning.html"><i class="fa fa-check"></i><b>3.1</b> Hyperparameter Tuning</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="tuning.html"><a href="tuning.html#tuning-optimization"><i class="fa fa-check"></i><b>3.1.1</b> The <code>TuningInstance*</code> Classes</a></li>
<li class="chapter" data-level="3.1.2" data-path="tuning.html"><a href="tuning.html#tuning-algorithms"><i class="fa fa-check"></i><b>3.1.2</b> The <code>Tuner</code> Class</a></li>
<li class="chapter" data-level="3.1.3" data-path="tuning.html"><a href="tuning.html#tuning-triggering"><i class="fa fa-check"></i><b>3.1.3</b> Triggering the Tuning</a></li>
<li class="chapter" data-level="3.1.4" data-path="tuning.html"><a href="tuning.html#autotuner"><i class="fa fa-check"></i><b>3.1.4</b> Automating the Tuning</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="searchspace.html"><a href="searchspace.html"><i class="fa fa-check"></i><b>3.2</b> Tuning Search Spaces</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="searchspace.html"><a href="searchspace.html#creating-paramsets"><i class="fa fa-check"></i><b>3.2.1</b> Creating <code>ParamSet</code>s</a></li>
<li class="chapter" data-level="3.2.2" data-path="searchspace.html"><a href="searchspace.html#searchspace-trafo"><i class="fa fa-check"></i><b>3.2.2</b> Transformations (<code>trafo</code>)</a></li>
<li class="chapter" data-level="3.2.3" data-path="searchspace.html"><a href="searchspace.html#autolevel"><i class="fa fa-check"></i><b>3.2.3</b> Automatic Factor Level Transformation</a></li>
<li class="chapter" data-level="3.2.4" data-path="searchspace.html"><a href="searchspace.html#searchspace-depends"><i class="fa fa-check"></i><b>3.2.4</b> Parameter Dependencies (<code>depends</code>)</a></li>
<li class="chapter" data-level="3.2.5" data-path="searchspace.html"><a href="searchspace.html#creating-tuning-paramsets-from-other-paramsets"><i class="fa fa-check"></i><b>3.2.5</b> Creating Tuning ParamSets from other ParamSets</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="nested-resampling.html"><a href="nested-resampling.html"><i class="fa fa-check"></i><b>3.3</b> Nested Resampling</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="nested-resampling.html"><a href="nested-resampling.html#nested-resamp-exec"><i class="fa fa-check"></i><b>3.3.1</b> Execution</a></li>
<li class="chapter" data-level="3.3.2" data-path="nested-resampling.html"><a href="nested-resampling.html#nested-resamp-eval"><i class="fa fa-check"></i><b>3.3.2</b> Evaluation</a></li>
<li class="chapter" data-level="3.3.3" data-path="nested-resampling.html"><a href="nested-resampling.html#nested-final-model"><i class="fa fa-check"></i><b>3.3.3</b> Final Model</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="hyperband.html"><a href="hyperband.html"><i class="fa fa-check"></i><b>3.4</b> Tuning with Hyperband</a></li>
<li class="chapter" data-level="3.5" data-path="fs.html"><a href="fs.html"><i class="fa fa-check"></i><b>3.5</b> Feature Selection / Filtering</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="fs.html"><a href="fs.html#fs-filter"><i class="fa fa-check"></i><b>3.5.1</b> Filters</a></li>
<li class="chapter" data-level="3.5.2" data-path="fs.html"><a href="fs.html#fs-calc"><i class="fa fa-check"></i><b>3.5.2</b> Calculating filter values</a></li>
<li class="chapter" data-level="3.5.3" data-path="fs.html"><a href="fs.html#fs-var-imp-filters"><i class="fa fa-check"></i><b>3.5.3</b> Variable Importance Filters</a></li>
<li class="chapter" data-level="3.5.4" data-path="fs.html"><a href="fs.html#fs-wrapper"><i class="fa fa-check"></i><b>3.5.4</b> Wrapper Methods</a></li>
<li class="chapter" data-level="3.5.5" data-path="fs.html"><a href="fs.html#fs-wrapper-optimization"><i class="fa fa-check"></i><b>3.5.5</b> The <code>FSelectInstance</code> Classes</a></li>
<li class="chapter" data-level="3.5.6" data-path="fs.html"><a href="fs.html#the-fselector-class"><i class="fa fa-check"></i><b>3.5.6</b> The <code>FSelector</code> Class</a></li>
<li class="chapter" data-level="3.5.7" data-path="fs.html"><a href="fs.html#wrapper-selection-triggering"><i class="fa fa-check"></i><b>3.5.7</b> Triggering the Tuning</a></li>
<li class="chapter" data-level="3.5.8" data-path="fs.html"><a href="fs.html#autofselect"><i class="fa fa-check"></i><b>3.5.8</b> Automating the Feature Selection</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="pipelines.html"><a href="pipelines.html"><i class="fa fa-check"></i><b>4</b> Pipelines</a>
<ul>
<li class="chapter" data-level="4.1" data-path="pipe-pipeops.html"><a href="pipe-pipeops.html"><i class="fa fa-check"></i><b>4.1</b> The Building Blocks: PipeOps</a></li>
<li class="chapter" data-level="4.2" data-path="pipe-operator.html"><a href="pipe-operator.html"><i class="fa fa-check"></i><b>4.2</b> The Pipeline Operator: <code>%&gt;&gt;%</code></a></li>
<li class="chapter" data-level="4.3" data-path="pipe-nodes-edges-graphs.html"><a href="pipe-nodes-edges-graphs.html"><i class="fa fa-check"></i><b>4.3</b> Nodes, Edges and Graphs</a></li>
<li class="chapter" data-level="4.4" data-path="pipe-modeling.html"><a href="pipe-modeling.html"><i class="fa fa-check"></i><b>4.4</b> Modeling</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="pipe-modeling.html"><a href="pipe-modeling.html#pipe-hyperpars"><i class="fa fa-check"></i><b>4.4.1</b> Setting Hyperparameters</a></li>
<li class="chapter" data-level="4.4.2" data-path="pipe-modeling.html"><a href="pipe-modeling.html#pipe-tuning"><i class="fa fa-check"></i><b>4.4.2</b> Tuning</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html"><i class="fa fa-check"></i><b>4.5</b> Non-Linear Graphs</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#pipe-model-ensembles-branching-copying"><i class="fa fa-check"></i><b>4.5.1</b> Branching &amp; Copying</a></li>
<li class="chapter" data-level="4.5.2" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#pipe-model-ensembles"><i class="fa fa-check"></i><b>4.5.2</b> Model Ensembles</a>
<ul>
<li class="chapter" data-level="4.5.2.1" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#pipe-model-ensembles-bagging"><i class="fa fa-check"></i><b>4.5.2.1</b> Bagging</a></li>
<li class="chapter" data-level="4.5.2.2" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#pipe-model-ensembles-stacking"><i class="fa fa-check"></i><b>4.5.2.2</b> Stacking</a></li>
<li class="chapter" data-level="4.5.2.3" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#multilevel-stacking"><i class="fa fa-check"></i><b>4.5.2.3</b> Multilevel Stacking</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html"><i class="fa fa-check"></i><b>4.6</b> Special Operators</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html#imputation-pipeopimpute"><i class="fa fa-check"></i><b>4.6.1</b> Imputation: <code>PipeOpImpute</code></a></li>
<li class="chapter" data-level="4.6.2" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html#feature-engineering-pipeopmutate"><i class="fa fa-check"></i><b>4.6.2</b> Feature Engineering: <code>PipeOpMutate</code></a></li>
<li class="chapter" data-level="4.6.3" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html#training-on-data-subsets-pipeopchunk"><i class="fa fa-check"></i><b>4.6.3</b> Training on data subsets: <code>PipeOpChunk</code></a></li>
<li class="chapter" data-level="4.6.4" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html#feature-selection-pipeopfilter-and-pipeopselect"><i class="fa fa-check"></i><b>4.6.4</b> Feature Selection: <code>PipeOpFilter</code> and <code>PipeOpSelect</code></a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html"><i class="fa fa-check"></i><b>4.7</b> In-depth look into mlr3pipelines</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#whats-the-point"><i class="fa fa-check"></i><b>4.7.1</b> What’s the Point</a></li>
<li class="chapter" data-level="4.7.2" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#pipeop-pipeline-operators"><i class="fa fa-check"></i><b>4.7.2</b> <code>PipeOp</code>: Pipeline Operators</a>
<ul>
<li class="chapter" data-level="4.7.2.1" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#why-the-state"><i class="fa fa-check"></i><b>4.7.2.1</b> Why the <code>$state</code></a></li>
<li class="chapter" data-level="4.7.2.2" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#where-to-get-pipeops"><i class="fa fa-check"></i><b>4.7.2.2</b> Where to Get <code>PipeOp</code>s</a></li>
</ul></li>
<li class="chapter" data-level="4.7.3" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#pipeop-channels"><i class="fa fa-check"></i><b>4.7.3</b> PipeOp Channels</a>
<ul>
<li class="chapter" data-level="4.7.3.1" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#input-channels"><i class="fa fa-check"></i><b>4.7.3.1</b> Input Channels</a></li>
<li class="chapter" data-level="4.7.3.2" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#output-channels"><i class="fa fa-check"></i><b>4.7.3.2</b> Output Channels</a></li>
<li class="chapter" data-level="4.7.3.3" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#channel-configuration"><i class="fa fa-check"></i><b>4.7.3.3</b> Channel Configuration</a></li>
</ul></li>
<li class="chapter" data-level="4.7.4" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#graph-networks-of-pipeops"><i class="fa fa-check"></i><b>4.7.4</b> <code>Graph</code>: Networks of <code>PipeOp</code>s</a>
<ul>
<li class="chapter" data-level="4.7.4.1" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#basics-1"><i class="fa fa-check"></i><b>4.7.4.1</b> Basics</a></li>
<li class="chapter" data-level="4.7.4.2" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#networks"><i class="fa fa-check"></i><b>4.7.4.2</b> Networks</a></li>
<li class="chapter" data-level="4.7.4.3" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#syntactic-sugar"><i class="fa fa-check"></i><b>4.7.4.3</b> Syntactic Sugar</a></li>
<li class="chapter" data-level="4.7.4.4" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#pipeop-ids-and-id-name-clashes"><i class="fa fa-check"></i><b>4.7.4.4</b> <code>PipeOp</code> IDs and ID Name Clashes</a></li>
</ul></li>
<li class="chapter" data-level="4.7.5" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#learners-in-graphs-graphs-in-learners"><i class="fa fa-check"></i><b>4.7.5</b> Learners in Graphs, Graphs in Learners</a>
<ul>
<li class="chapter" data-level="4.7.5.1" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#pipeoplearner"><i class="fa fa-check"></i><b>4.7.5.1</b> <code>PipeOpLearner</code></a></li>
<li class="chapter" data-level="4.7.5.2" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#graphlearner"><i class="fa fa-check"></i><b>4.7.5.2</b> <code>GraphLearner</code></a></li>
</ul></li>
<li class="chapter" data-level="4.7.6" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#hyperparameters"><i class="fa fa-check"></i><b>4.7.6</b> Hyperparameters</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="technical.html"><a href="technical.html"><i class="fa fa-check"></i><b>5</b> Technical</a>
<ul>
<li class="chapter" data-level="5.1" data-path="parallelization.html"><a href="parallelization.html"><i class="fa fa-check"></i><b>5.1</b> Parallelization</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="parallelization.html"><a href="parallelization.html#implicit-parallelization"><i class="fa fa-check"></i><b>5.1.1</b> Implicit Parallelization</a></li>
<li class="chapter" data-level="5.1.2" data-path="parallelization.html"><a href="parallelization.html#explicit-parallelization"><i class="fa fa-check"></i><b>5.1.2</b> Explicit Parallelization</a></li>
<li class="chapter" data-level="5.1.3" data-path="parallelization.html"><a href="parallelization.html#nested-resampling-parallelization"><i class="fa fa-check"></i><b>5.1.3</b> Nested Resampling Parallelization</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="error-handling.html"><a href="error-handling.html"><i class="fa fa-check"></i><b>5.2</b> Error Handling</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="error-handling.html"><a href="error-handling.html#encapsulation"><i class="fa fa-check"></i><b>5.2.1</b> Encapsulation</a></li>
<li class="chapter" data-level="5.2.2" data-path="error-handling.html"><a href="error-handling.html#fallback-learners"><i class="fa fa-check"></i><b>5.2.2</b> Fallback learners</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="backends.html"><a href="backends.html"><i class="fa fa-check"></i><b>5.3</b> Database Backends</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="backends.html"><a href="backends.html#use-case-nyc-flights"><i class="fa fa-check"></i><b>5.3.1</b> Use Case: NYC Flights</a></li>
<li class="chapter" data-level="5.3.2" data-path="backends.html"><a href="backends.html#preprocessing-with-dplyr"><i class="fa fa-check"></i><b>5.3.2</b> Preprocessing with <code>dplyr</code></a></li>
<li class="chapter" data-level="5.3.3" data-path="backends.html"><a href="backends.html#databackenddplyr"><i class="fa fa-check"></i><b>5.3.3</b> DataBackendDplyr</a></li>
<li class="chapter" data-level="5.3.4" data-path="backends.html"><a href="backends.html#model-fitting"><i class="fa fa-check"></i><b>5.3.4</b> Model fitting</a></li>
<li class="chapter" data-level="5.3.5" data-path="backends.html"><a href="backends.html#cleanup"><i class="fa fa-check"></i><b>5.3.5</b> Cleanup</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="paradox.html"><a href="paradox.html"><i class="fa fa-check"></i><b>5.4</b> Parameters (using <code>paradox</code>)</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="paradox.html"><a href="paradox.html#reference-based-objects"><i class="fa fa-check"></i><b>5.4.1</b> Reference Based Objects</a></li>
<li class="chapter" data-level="5.4.2" data-path="paradox.html"><a href="paradox.html#defining-a-parameter-space"><i class="fa fa-check"></i><b>5.4.2</b> Defining a Parameter Space</a>
<ul>
<li class="chapter" data-level="5.4.2.1" data-path="paradox.html"><a href="paradox.html#single-parameters"><i class="fa fa-check"></i><b>5.4.2.1</b> Single Parameters</a></li>
<li class="chapter" data-level="5.4.2.2" data-path="paradox.html"><a href="paradox.html#parameter-sets"><i class="fa fa-check"></i><b>5.4.2.2</b> Parameter Sets</a></li>
<li class="chapter" data-level="5.4.2.3" data-path="paradox.html"><a href="paradox.html#vector-parameters"><i class="fa fa-check"></i><b>5.4.2.3</b> Vector Parameters</a></li>
</ul></li>
<li class="chapter" data-level="5.4.3" data-path="paradox.html"><a href="paradox.html#parameter-sampling"><i class="fa fa-check"></i><b>5.4.3</b> Parameter Sampling</a>
<ul>
<li class="chapter" data-level="5.4.3.1" data-path="paradox.html"><a href="paradox.html#parameter-designs"><i class="fa fa-check"></i><b>5.4.3.1</b> Parameter Designs</a></li>
<li class="chapter" data-level="5.4.3.2" data-path="paradox.html"><a href="paradox.html#grid-design"><i class="fa fa-check"></i><b>5.4.3.2</b> Grid Design</a></li>
<li class="chapter" data-level="5.4.3.3" data-path="paradox.html"><a href="paradox.html#random-sampling"><i class="fa fa-check"></i><b>5.4.3.3</b> Random Sampling</a></li>
<li class="chapter" data-level="5.4.3.4" data-path="paradox.html"><a href="paradox.html#generalized-sampling-the-sampler-class"><i class="fa fa-check"></i><b>5.4.3.4</b> Generalized Sampling: The <code>Sampler</code> Class</a></li>
</ul></li>
<li class="chapter" data-level="5.4.4" data-path="paradox.html"><a href="paradox.html#parameter-transformation"><i class="fa fa-check"></i><b>5.4.4</b> Parameter Transformation</a>
<ul>
<li class="chapter" data-level="5.4.4.1" data-path="paradox.html"><a href="paradox.html#transformation-between-types"><i class="fa fa-check"></i><b>5.4.4.1</b> Transformation between Types</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="logging.html"><a href="logging.html"><i class="fa fa-check"></i><b>5.5</b> Logging</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="logging.html"><a href="logging.html#changing-mlr3-logging-levels"><i class="fa fa-check"></i><b>5.5.1</b> Changing mlr3 logging levels</a></li>
<li class="chapter" data-level="5.5.2" data-path="logging.html"><a href="logging.html#redirecting-output"><i class="fa fa-check"></i><b>5.5.2</b> Redirecting output</a></li>
<li class="chapter" data-level="5.5.3" data-path="logging.html"><a href="logging.html#immediate-log-feedback"><i class="fa fa-check"></i><b>5.5.3</b> Immediate Log Feedback</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="extending.html"><a href="extending.html"><i class="fa fa-check"></i><b>6</b> Extending</a>
<ul>
<li class="chapter" data-level="6.1" data-path="extending-learners.html"><a href="extending-learners.html"><i class="fa fa-check"></i><b>6.1</b> Adding new Learners</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="extending-learners.html"><a href="extending-learners.html#setup"><i class="fa fa-check"></i><b>6.1.1</b> Setting-up mlr3extralearners</a></li>
<li class="chapter" data-level="6.1.2" data-path="extending-learners.html"><a href="extending-learners.html#create-learner"><i class="fa fa-check"></i><b>6.1.2</b> Calling create_learner</a></li>
<li class="chapter" data-level="6.1.3" data-path="extending-learners.html"><a href="extending-learners.html#learner_package_type_key.r"><i class="fa fa-check"></i><b>6.1.3</b> learner_package_type_key.R</a></li>
<li class="chapter" data-level="6.1.4" data-path="extending-learners.html"><a href="extending-learners.html#learner-meta-information"><i class="fa fa-check"></i><b>6.1.4</b> Meta-information</a></li>
<li class="chapter" data-level="6.1.5" data-path="extending-learners.html"><a href="extending-learners.html#param-set"><i class="fa fa-check"></i><b>6.1.5</b> ParamSet</a></li>
<li class="chapter" data-level="6.1.6" data-path="extending-learners.html"><a href="extending-learners.html#learner-train"><i class="fa fa-check"></i><b>6.1.6</b> Train function</a></li>
<li class="chapter" data-level="6.1.7" data-path="extending-learners.html"><a href="extending-learners.html#learner-predict"><i class="fa fa-check"></i><b>6.1.7</b> Predict function</a></li>
<li class="chapter" data-level="6.1.8" data-path="extending-learners.html"><a href="extending-learners.html#learner-control"><i class="fa fa-check"></i><b>6.1.8</b> Control objects/functions of learners</a></li>
<li class="chapter" data-level="6.1.9" data-path="extending-learners.html"><a href="extending-learners.html#learner-test"><i class="fa fa-check"></i><b>6.1.9</b> Testing the learner</a>
<ul>
<li class="chapter" data-level="6.1.9.1" data-path="extending-learners.html"><a href="extending-learners.html#learner-test-manual"><i class="fa fa-check"></i><b>6.1.9.1</b> Train and Predict</a></li>
<li class="chapter" data-level="6.1.9.2" data-path="extending-learners.html"><a href="extending-learners.html#learner-test-unit"><i class="fa fa-check"></i><b>6.1.9.2</b> Autotest</a></li>
<li class="chapter" data-level="6.1.9.3" data-path="extending-learners.html"><a href="extending-learners.html#learner-test-parameter"><i class="fa fa-check"></i><b>6.1.9.3</b> Checking Parameters</a></li>
</ul></li>
<li class="chapter" data-level="6.1.10" data-path="extending-learners.html"><a href="extending-learners.html#cleaning"><i class="fa fa-check"></i><b>6.1.10</b> Package Cleaning</a></li>
<li class="chapter" data-level="6.1.11" data-path="extending-learners.html"><a href="extending-learners.html#thanks-and-maintenance"><i class="fa fa-check"></i><b>6.1.11</b> Thanks and Maintenance</a></li>
<li class="chapter" data-level="6.1.12" data-path="extending-learners.html"><a href="extending-learners.html#learner-faq"><i class="fa fa-check"></i><b>6.1.12</b> Learner FAQ</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="extending-measures.html"><a href="extending-measures.html"><i class="fa fa-check"></i><b>6.2</b> Adding new Measures</a></li>
<li class="chapter" data-level="6.3" data-path="extending-pipeops.html"><a href="extending-pipeops.html"><i class="fa fa-check"></i><b>6.3</b> Adding new PipeOps</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="extending-pipeops.html"><a href="extending-pipeops.html#ext-pipeopcopy"><i class="fa fa-check"></i><b>6.3.1</b> General Case Example: <code>PipeOpCopy</code></a>
<ul>
<li class="chapter" data-level="6.3.1.1" data-path="extending-pipeops.html"><a href="extending-pipeops.html#first-steps-inheriting-from-pipeop"><i class="fa fa-check"></i><b>6.3.1.1</b> First Steps: Inheriting from <code>PipeOp</code></a></li>
<li class="chapter" data-level="6.3.1.2" data-path="extending-pipeops.html"><a href="extending-pipeops.html#channel-definitions"><i class="fa fa-check"></i><b>6.3.1.2</b> Channel Definitions</a></li>
<li class="chapter" data-level="6.3.1.3" data-path="extending-pipeops.html"><a href="extending-pipeops.html#train-and-predict"><i class="fa fa-check"></i><b>6.3.1.3</b> Train and Predict</a></li>
<li class="chapter" data-level="6.3.1.4" data-path="extending-pipeops.html"><a href="extending-pipeops.html#putting-it-together"><i class="fa fa-check"></i><b>6.3.1.4</b> Putting it Together</a></li>
</ul></li>
<li class="chapter" data-level="6.3.2" data-path="extending-pipeops.html"><a href="extending-pipeops.html#ext-pipe-preproc"><i class="fa fa-check"></i><b>6.3.2</b> Special Case: Preprocessing</a>
<ul>
<li class="chapter" data-level="6.3.2.1" data-path="extending-pipeops.html"><a href="extending-pipeops.html#example-pipeopdropna"><i class="fa fa-check"></i><b>6.3.2.1</b> Example: <code>PipeOpDropNA</code></a></li>
<li class="chapter" data-level="6.3.2.2" data-path="extending-pipeops.html"><a href="extending-pipeops.html#example-pipeopscalealways"><i class="fa fa-check"></i><b>6.3.2.2</b> Example: <code>PipeOpScaleAlways</code></a></li>
</ul></li>
<li class="chapter" data-level="6.3.3" data-path="extending-pipeops.html"><a href="extending-pipeops.html#special-case-preprocessing-with-simple-train"><i class="fa fa-check"></i><b>6.3.3</b> Special Case: Preprocessing with Simple Train</a>
<ul>
<li class="chapter" data-level="6.3.3.1" data-path="extending-pipeops.html"><a href="extending-pipeops.html#example-pipeopdropconst"><i class="fa fa-check"></i><b>6.3.3.1</b> Example: <code>PipeOpDropConst</code></a></li>
<li class="chapter" data-level="6.3.3.2" data-path="extending-pipeops.html"><a href="extending-pipeops.html#example-pipeopscalealwayssimple"><i class="fa fa-check"></i><b>6.3.3.2</b> Example: <code>PipeOpScaleAlwaysSimple</code></a></li>
</ul></li>
<li class="chapter" data-level="6.3.4" data-path="extending-pipeops.html"><a href="extending-pipeops.html#ext-pipe-hyperpars"><i class="fa fa-check"></i><b>6.3.4</b> Hyperparameters</a>
<ul>
<li class="chapter" data-level="6.3.4.1" data-path="extending-pipeops.html"><a href="extending-pipeops.html#hyperparameter-example-pipeopscale"><i class="fa fa-check"></i><b>6.3.4.1</b> Hyperparameter Example: <code>PipeOpScale</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="extending-tuners.html"><a href="extending-tuners.html"><i class="fa fa-check"></i><b>6.4</b> Adding new Tuners</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="extending-tuners.html"><a href="extending-tuners.html#extending-tuners-summary"><i class="fa fa-check"></i><b>6.4.1</b> Adding a new Tuner</a></li>
<li class="chapter" data-level="6.4.2" data-path="extending-tuners.html"><a href="extending-tuners.html#tuner-template"><i class="fa fa-check"></i><b>6.4.2</b> Template</a></li>
<li class="chapter" data-level="6.4.3" data-path="extending-tuners.html"><a href="extending-tuners.html#tuner-optimize"><i class="fa fa-check"></i><b>6.4.3</b> Optimize method</a>
<ul>
<li class="chapter" data-level="6.4.3.1" data-path="extending-tuners.html"><a href="extending-tuners.html#writing-a-custom-iteration"><i class="fa fa-check"></i><b>6.4.3.1</b> Writing a custom iteration</a></li>
<li class="chapter" data-level="6.4.3.2" data-path="extending-tuners.html"><a href="extending-tuners.html#calling-an-external-optimization-function"><i class="fa fa-check"></i><b>6.4.3.2</b> Calling an external optimization function</a></li>
</ul></li>
<li class="chapter" data-level="6.4.4" data-path="extending-tuners.html"><a href="extending-tuners.html#tuner-add-result"><i class="fa fa-check"></i><b>6.4.4</b> Assign result method</a></li>
<li class="chapter" data-level="6.4.5" data-path="extending-tuners.html"><a href="extending-tuners.html#tuner-from-optimizer"><i class="fa fa-check"></i><b>6.4.5</b> Transform optimizer to tuner</a></li>
<li class="chapter" data-level="6.4.6" data-path="extending-tuners.html"><a href="extending-tuners.html#tuner-test"><i class="fa fa-check"></i><b>6.4.6</b> Add unit tests</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="special-tasks.html"><a href="special-tasks.html"><i class="fa fa-check"></i><b>7</b> Special Tasks</a>
<ul>
<li class="chapter" data-level="7.1" data-path="survival.html"><a href="survival.html"><i class="fa fa-check"></i><b>7.1</b> Survival Analysis</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="survival.html"><a href="survival.html#tasksurv"><i class="fa fa-check"></i><b>7.1.1</b> TaskSurv</a></li>
<li class="chapter" data-level="7.1.2" data-path="survival.html"><a href="survival.html#predict-types---crank-lp-and-distr"><i class="fa fa-check"></i><b>7.1.2</b> Predict Types - crank, lp, and distr</a></li>
<li class="chapter" data-level="7.1.3" data-path="survival.html"><a href="survival.html#composition"><i class="fa fa-check"></i><b>7.1.3</b> Composition</a></li>
<li class="chapter" data-level="7.1.4" data-path="survival.html"><a href="survival.html#benchmark-experiment"><i class="fa fa-check"></i><b>7.1.4</b> Benchmark Experiment</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="density.html"><a href="density.html"><i class="fa fa-check"></i><b>7.2</b> Density Estimation</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="density.html"><a href="density.html#train-and-predict-1"><i class="fa fa-check"></i><b>7.2.1</b> Train and Predict</a></li>
<li class="chapter" data-level="7.2.2" data-path="density.html"><a href="density.html#benchmark-experiment-1"><i class="fa fa-check"></i><b>7.2.2</b> Benchmark Experiment</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="spatiotemporal.html"><a href="spatiotemporal.html"><i class="fa fa-check"></i><b>7.3</b> Spatiotemporal Analysis</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="spatiotemporal.html"><a href="spatiotemporal.html#creating-a-spatial-task"><i class="fa fa-check"></i><b>7.3.1</b> Creating a spatial Task</a></li>
<li class="chapter" data-level="7.3.2" data-path="spatiotemporal.html"><a href="spatiotemporal.html#spatiotemporal-intro"><i class="fa fa-check"></i><b>7.3.2</b> Autocorrelation</a></li>
<li class="chapter" data-level="7.3.3" data-path="spatiotemporal.html"><a href="spatiotemporal.html#sp-vs-nsp-cv"><i class="fa fa-check"></i><b>7.3.3</b> Spatial CV vs. Non-Spatial CV</a>
<ul>
<li class="chapter" data-level="7.3.3.1" data-path="spatiotemporal.html"><a href="spatiotemporal.html#nsp-cv"><i class="fa fa-check"></i><b>7.3.3.1</b> Non-Spatial CV</a></li>
<li class="chapter" data-level="7.3.3.2" data-path="spatiotemporal.html"><a href="spatiotemporal.html#sp-cv"><i class="fa fa-check"></i><b>7.3.3.2</b> Spatial CV</a></li>
</ul></li>
<li class="chapter" data-level="7.3.4" data-path="spatiotemporal.html"><a href="spatiotemporal.html#vis-spt-partitions"><i class="fa fa-check"></i><b>7.3.4</b> Visualization of Spatiotemporal Partitions</a></li>
<li class="chapter" data-level="7.3.5" data-path="spatiotemporal.html"><a href="spatiotemporal.html#vis-spatial-block"><i class="fa fa-check"></i><b>7.3.5</b> Spatial Block Visualization</a></li>
<li class="chapter" data-level="7.3.6" data-path="spatiotemporal.html"><a href="spatiotemporal.html#choose-spt-rsmp"><i class="fa fa-check"></i><b>7.3.6</b> Choosing a Resampling Method</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="ordinal.html"><a href="ordinal.html"><i class="fa fa-check"></i><b>7.4</b> Ordinal Analysis</a></li>
<li class="chapter" data-level="7.5" data-path="functional.html"><a href="functional.html"><i class="fa fa-check"></i><b>7.5</b> Functional Analysis</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="functional.html"><a href="functional.html#how-to-model-functional-data"><i class="fa fa-check"></i><b>7.5.1</b> How to model functional data?</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="multilabel.html"><a href="multilabel.html"><i class="fa fa-check"></i><b>7.6</b> Multilabel Classification</a></li>
<li class="chapter" data-level="7.7" data-path="cost-sens.html"><a href="cost-sens.html"><i class="fa fa-check"></i><b>7.7</b> Cost-Sensitive Classification</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="cost-sens.html"><a href="cost-sens.html#a-first-model"><i class="fa fa-check"></i><b>7.7.1</b> A First Model</a></li>
<li class="chapter" data-level="7.7.2" data-path="cost-sens.html"><a href="cost-sens.html#cost-sensitive-measure"><i class="fa fa-check"></i><b>7.7.2</b> Cost-sensitive Measure</a></li>
<li class="chapter" data-level="7.7.3" data-path="cost-sens.html"><a href="cost-sens.html#thresholding"><i class="fa fa-check"></i><b>7.7.3</b> Thresholding</a></li>
<li class="chapter" data-level="7.7.4" data-path="cost-sens.html"><a href="cost-sens.html#threshold-tuning-1"><i class="fa fa-check"></i><b>7.7.4</b> Threshold Tuning</a></li>
<li class="chapter" data-level="7.7.5" data-path="cost-sens.html"><a href="cost-sens.html#adjusting-thresholds-two-strategies"><i class="fa fa-check"></i><b>7.7.5</b> Adjusting thresholds: Two strategies</a></li>
<li class="chapter" data-level="7.7.6" data-path="cost-sens.html"><a href="cost-sens.html#pipeopthreshold"><i class="fa fa-check"></i><b>7.7.6</b> PipeOpThreshold</a></li>
<li class="chapter" data-level="7.7.7" data-path="cost-sens.html"><a href="cost-sens.html#pipeoptunethreshold"><i class="fa fa-check"></i><b>7.7.7</b> PipeOpTunethreshold</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="interpretation.html"><a href="interpretation.html"><i class="fa fa-check"></i><b>8</b> Model Interpretation</a>
<ul>
<li class="chapter" data-level="8.1" data-path="iml.html"><a href="iml.html"><i class="fa fa-check"></i><b>8.1</b> IML</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="iml.html"><a href="iml.html#penguin-task"><i class="fa fa-check"></i><b>8.1.1</b> Penguin Task</a></li>
<li class="chapter" data-level="8.1.2" data-path="iml.html"><a href="iml.html#featureeffects"><i class="fa fa-check"></i><b>8.1.2</b> FeatureEffects</a></li>
<li class="chapter" data-level="8.1.3" data-path="iml.html"><a href="iml.html#shapley"><i class="fa fa-check"></i><b>8.1.3</b> Shapley</a></li>
<li class="chapter" data-level="8.1.4" data-path="iml.html"><a href="iml.html#featureimp"><i class="fa fa-check"></i><b>8.1.4</b> FeatureImp</a></li>
<li class="chapter" data-level="8.1.5" data-path="iml.html"><a href="iml.html#independent-test-data"><i class="fa fa-check"></i><b>8.1.5</b> Independent Test Data</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="dalex.html"><a href="dalex.html"><i class="fa fa-check"></i><b>8.2</b> DALEX</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="dalex.html"><a href="dalex.html#interpretability-dalex-introduction"><i class="fa fa-check"></i><b>8.2.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2.2" data-path="dalex.html"><a href="dalex.html#interpretability-data-fifa"><i class="fa fa-check"></i><b>8.2.2</b> Read data: FIFA</a></li>
<li class="chapter" data-level="8.2.3" data-path="dalex.html"><a href="dalex.html#interpretability-train-ranger"><i class="fa fa-check"></i><b>8.2.3</b> Train a model: Ranger</a></li>
<li class="chapter" data-level="8.2.4" data-path="dalex.html"><a href="dalex.html#interpretability-architecture"><i class="fa fa-check"></i><b>8.2.4</b> The general workflow</a></li>
<li class="chapter" data-level="8.2.5" data-path="dalex.html"><a href="dalex.html#interpretability-dataset-level"><i class="fa fa-check"></i><b>8.2.5</b> Dataset level exploration</a></li>
<li class="chapter" data-level="8.2.6" data-path="dalex.html"><a href="dalex.html#interpretability-instance-level"><i class="fa fa-check"></i><b>8.2.6</b> Instance level explanation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>9</b> Appendix</a>
<ul>
<li class="chapter" data-level="9.1" data-path="list-learners.html"><a href="list-learners.html"><i class="fa fa-check"></i><b>9.1</b> Integrated Learners</a></li>
<li class="chapter" data-level="9.2" data-path="list-measures.html"><a href="list-measures.html"><i class="fa fa-check"></i><b>9.2</b> Integrated Performance Measures</a></li>
<li class="chapter" data-level="9.3" data-path="list-filters.html"><a href="list-filters.html"><i class="fa fa-check"></i><b>9.3</b> Integrated Filter Methods</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="list-filters.html"><a href="list-filters.html#fs-filter-list"><i class="fa fa-check"></i><b>9.3.1</b> Standalone filter methods</a></li>
<li class="chapter" data-level="9.3.2" data-path="list-filters.html"><a href="list-filters.html#fs-filter-embedded-list"><i class="fa fa-check"></i><b>9.3.2</b> Learners With Embedded Filter Methods</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="list-pipeops.html"><a href="list-pipeops.html"><i class="fa fa-check"></i><b>9.4</b> Integrated Pipe Operators</a></li>
<li class="chapter" data-level="9.5" data-path="compare-frameworks.html"><a href="compare-frameworks.html"><i class="fa fa-check"></i><b>9.5</b> Framework Comparison</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="compare-frameworks.html"><a href="compare-frameworks.html#an-introduction-to-pipeops"><i class="fa fa-check"></i><b>9.5.1</b> An introduction to “PipeOp”s</a>
<ul>
<li class="chapter" data-level="9.5.1.1" data-path="compare-frameworks.html"><a href="compare-frameworks.html#a-quick-glance-into-a-pipeop"><i class="fa fa-check"></i><b>9.5.1.1</b> A quick glance into a PipeOp</a></li>
<li class="chapter" data-level="9.5.1.2" data-path="compare-frameworks.html"><a href="compare-frameworks.html#constructing-the-pipeline"><i class="fa fa-check"></i><b>9.5.1.2</b> Constructing the Pipeline</a></li>
</ul></li>
<li class="chapter" data-level="9.5.2" data-path="compare-frameworks.html"><a href="compare-frameworks.html#mlr3pipelines-vs.-mlr"><i class="fa fa-check"></i><b>9.5.2</b> mlr3pipelines vs. mlr</a>
<ul>
<li class="chapter" data-level="9.5.2.1" data-path="compare-frameworks.html"><a href="compare-frameworks.html#mlr"><i class="fa fa-check"></i><b>9.5.2.1</b> mlr</a></li>
<li class="chapter" data-level="9.5.2.2" data-path="compare-frameworks.html"><a href="compare-frameworks.html#mlr3pipelines"><i class="fa fa-check"></i><b>9.5.2.2</b> mlr3pipelines</a></li>
</ul></li>
<li class="chapter" data-level="9.5.3" data-path="compare-frameworks.html"><a href="compare-frameworks.html#mlr3pipelines-vs.-sklearn.pipeline.pipeline"><i class="fa fa-check"></i><b>9.5.3</b> mlr3pipelines vs. sklearn.pipeline.Pipeline</a>
<ul>
<li class="chapter" data-level="9.5.3.1" data-path="compare-frameworks.html"><a href="compare-frameworks.html#sklearn"><i class="fa fa-check"></i><b>9.5.3.1</b> sklearn</a></li>
<li class="chapter" data-level="9.5.3.2" data-path="compare-frameworks.html"><a href="compare-frameworks.html#mlr3pipelines-1"><i class="fa fa-check"></i><b>9.5.3.2</b> mlr3pipelines</a></li>
</ul></li>
<li class="chapter" data-level="9.5.4" data-path="compare-frameworks.html"><a href="compare-frameworks.html#mlr3pipelines-vs-recipes"><i class="fa fa-check"></i><b>9.5.4</b> mlr3pipelines vs recipes</a>
<ul>
<li class="chapter" data-level="9.5.4.1" data-path="compare-frameworks.html"><a href="compare-frameworks.html#recipes"><i class="fa fa-check"></i><b>9.5.4.1</b> recipes</a></li>
<li class="chapter" data-level="9.5.4.2" data-path="compare-frameworks.html"><a href="compare-frameworks.html#mlr3pipelines-2"><i class="fa fa-check"></i><b>9.5.4.2</b> mlr3pipelines</a></li>
</ul></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">mlr3 book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tuning" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Hyperparameter Tuning</h2>
<p>Hyperparameters are second-order parameters of machine learning models that, while often not explicitly optimized during the model estimation process, can have an important impact on the outcome and predictive performance of a model.
Typically, hyperparameters are fixed before training a model.
However, because the output of a model can be sensitive to the specification of hyperparameters, it is often recommended to make an informed decision about which hyperparameter settings may yield better model performance.
In many cases, hyperparameter settings may be chosen <em>a priori</em>, but it can be advantageous to try different settings before fitting your model on the training data.
This process is often called model ‘tuning.’</p>
<p>Hyperparameter tuning is supported via the <a href="https://mlr3tuning.mlr-org.com">mlr3tuning</a> extension package.
Below you can find an illustration of the process:</p>
<p><img src="images/tuning_process.svg" style="display: block; margin: auto;" /></p>
<p>At the heart of <a href="https://mlr3tuning.mlr-org.com">mlr3tuning</a> are the R6 classes:</p>
<ul>
<li><a href="https://mlr3tuning.mlr-org.com/reference/TuningInstanceSingleCrit.html"><code>TuningInstanceSingleCrit</code></a>, <a href="https://mlr3tuning.mlr-org.com/reference/TuningInstanceMultiCrit.html"><code>TuningInstanceMultiCrit</code></a>: These two classes describe the tuning problem and store the results.</li>
<li><a href="https://mlr3tuning.mlr-org.com/reference/Tuner.html"><code>Tuner</code></a>: This class is the base class for implementations of tuning algorithms.</li>
</ul>
<div id="tuning-optimization" class="section level3" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> The <code>TuningInstance*</code> Classes</h3>
<p>The following sub-section examines the optimization of a simple classification tree on the <a href="https://mlr3.mlr-org.com/reference/mlr_tasks_pima.html"><code>Pima Indian Diabetes</code></a> data set.</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="tuning.html#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;mlr3verse&quot;</span>)</span>
<span id="cb190-2"><a href="tuning.html#cb190-2" aria-hidden="true" tabindex="-1"></a>task <span class="ot">=</span> <span class="fu">tsk</span>(<span class="st">&quot;pima&quot;</span>)</span>
<span id="cb190-3"><a href="tuning.html#cb190-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(task)</span></code></pre></div>
<pre><code>## &lt;TaskClassif:pima&gt; (768 x 9)
## * Target: diabetes
## * Properties: twoclass
## * Features (8):
##   - dbl (8): age, glucose, insulin, mass, pedigree, pregnant, pressure,
##     triceps</code></pre>
<p>We use the classification tree from <a href="https://cran.r-project.org/package=rpart">rpart</a> and choose a subset of the hyperparameters we want to tune.
This is often referred to as the “tuning space.”</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="tuning.html#cb192-1" aria-hidden="true" tabindex="-1"></a>learner <span class="ot">=</span> <span class="fu">lrn</span>(<span class="st">&quot;classif.rpart&quot;</span>)</span>
<span id="cb192-2"><a href="tuning.html#cb192-2" aria-hidden="true" tabindex="-1"></a>learner<span class="sc">$</span>param_set</span></code></pre></div>
<pre><code>## &lt;ParamSet&gt;
##                 id    class lower upper nlevels        default value
##  1:       minsplit ParamInt     1   Inf     Inf             20      
##  2:      minbucket ParamInt     1   Inf     Inf &lt;NoDefault[3]&gt;      
##  3:             cp ParamDbl     0     1     Inf           0.01      
##  4:     maxcompete ParamInt     0   Inf     Inf              4      
##  5:   maxsurrogate ParamInt     0   Inf     Inf              5      
##  6:       maxdepth ParamInt     1    30      30             30      
##  7:   usesurrogate ParamInt     0     2       3              2      
##  8: surrogatestyle ParamInt     0     1       2              0      
##  9:           xval ParamInt     0   Inf     Inf             10     0
## 10:     keep_model ParamLgl    NA    NA       2          FALSE</code></pre>
<p>Here, we opt to tune two parameters:</p>
<ul>
<li>The complexity <code>cp</code></li>
<li>The termination criterion <code>minsplit</code></li>
</ul>
<p>The tuning space needs to be bounded, therefore one has to set lower and upper bounds:</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="tuning.html#cb194-1" aria-hidden="true" tabindex="-1"></a>search_space <span class="ot">=</span> <span class="fu">ps</span>(</span>
<span id="cb194-2"><a href="tuning.html#cb194-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">cp =</span> <span class="fu">p_dbl</span>(<span class="at">lower =</span> <span class="fl">0.001</span>, <span class="at">upper =</span> <span class="fl">0.1</span>),</span>
<span id="cb194-3"><a href="tuning.html#cb194-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">minsplit =</span> <span class="fu">p_int</span>(<span class="at">lower =</span> <span class="dv">1</span>, <span class="at">upper =</span> <span class="dv">10</span>)</span>
<span id="cb194-4"><a href="tuning.html#cb194-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb194-5"><a href="tuning.html#cb194-5" aria-hidden="true" tabindex="-1"></a>search_space</span></code></pre></div>
<pre><code>## &lt;ParamSet&gt;
##          id    class lower upper nlevels        default value
## 1:       cp ParamDbl 0.001   0.1     Inf &lt;NoDefault[3]&gt;      
## 2: minsplit ParamInt 1.000  10.0      10 &lt;NoDefault[3]&gt;</code></pre>
<p>Next, we need to specify how to evaluate the performance.
For this, we need to choose a <a href="https://mlr3.mlr-org.com/reference/Resampling.html"><code>resampling strategy</code></a> and a <a href="https://mlr3.mlr-org.com/reference/Measure.html"><code>performance measure</code></a>.</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="tuning.html#cb196-1" aria-hidden="true" tabindex="-1"></a>hout <span class="ot">=</span> <span class="fu">rsmp</span>(<span class="st">&quot;holdout&quot;</span>)</span>
<span id="cb196-2"><a href="tuning.html#cb196-2" aria-hidden="true" tabindex="-1"></a>measure <span class="ot">=</span> <span class="fu">msr</span>(<span class="st">&quot;classif.ce&quot;</span>)</span></code></pre></div>
<p>Finally, one has to select the budget available, to solve this tuning instance.
This is done by selecting one of the available <a href="https://bbotk.mlr-org.com/reference/Terminator.html"><code>Terminators</code></a>:</p>
<ul>
<li>Terminate after a given time (<a href="https://bbotk.mlr-org.com/reference/mlr_terminators_clock_time.html"><code>TerminatorClockTime</code></a>)</li>
<li>Terminate after a given amount of iterations (<a href="https://bbotk.mlr-org.com/reference/mlr_terminators_evals.html"><code>TerminatorEvals</code></a>)</li>
<li>Terminate after a specific performance is reached (<a href="https://bbotk.mlr-org.com/reference/mlr_terminators_perf_reached.html"><code>TerminatorPerfReached</code></a>)</li>
<li>Terminate when tuning does not improve (<a href="https://bbotk.mlr-org.com/reference/mlr_terminators_stagnation.html"><code>TerminatorStagnation</code></a>)</li>
<li>A combination of the above in an <em>ALL</em> or <em>ANY</em> fashion (<a href="https://bbotk.mlr-org.com/reference/mlr_terminators_combo.html"><code>TerminatorCombo</code></a>)</li>
</ul>
<p>For this short introduction, we specify a budget of 20 evaluations and then put everything together into a <a href="https://mlr3tuning.mlr-org.com/reference/TuningInstanceSingleCrit.html"><code>TuningInstanceSingleCrit</code></a>:</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="tuning.html#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;mlr3tuning&quot;</span>)</span></code></pre></div>
<pre><code>## Loading required package: paradox</code></pre>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="tuning.html#cb199-1" aria-hidden="true" tabindex="-1"></a>evals20 <span class="ot">=</span> <span class="fu">trm</span>(<span class="st">&quot;evals&quot;</span>, <span class="at">n_evals =</span> <span class="dv">20</span>)</span>
<span id="cb199-2"><a href="tuning.html#cb199-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-3"><a href="tuning.html#cb199-3" aria-hidden="true" tabindex="-1"></a>instance <span class="ot">=</span> TuningInstanceSingleCrit<span class="sc">$</span><span class="fu">new</span>(</span>
<span id="cb199-4"><a href="tuning.html#cb199-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">task =</span> task,</span>
<span id="cb199-5"><a href="tuning.html#cb199-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">learner =</span> learner,</span>
<span id="cb199-6"><a href="tuning.html#cb199-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">resampling =</span> hout,</span>
<span id="cb199-7"><a href="tuning.html#cb199-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">measure =</span> measure,</span>
<span id="cb199-8"><a href="tuning.html#cb199-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">search_space =</span> search_space,</span>
<span id="cb199-9"><a href="tuning.html#cb199-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">terminator =</span> evals20</span>
<span id="cb199-10"><a href="tuning.html#cb199-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb199-11"><a href="tuning.html#cb199-11" aria-hidden="true" tabindex="-1"></a>instance</span></code></pre></div>
<pre><code>## &lt;TuningInstanceSingleCrit&gt;
## * State:  Not optimized
## * Objective: &lt;ObjectiveTuning:classif.rpart_on_pima&gt;
## * Search Space:
## &lt;ParamSet&gt;
##          id    class lower upper nlevels        default value
## 1:       cp ParamDbl 0.001   0.1     Inf &lt;NoDefault[3]&gt;      
## 2: minsplit ParamInt 1.000  10.0      10 &lt;NoDefault[3]&gt;      
## * Terminator: &lt;TerminatorEvals&gt;
## * Terminated: FALSE
## * Archive:
## &lt;ArchiveTuning&gt;
## Null data.table (0 rows and 0 cols)</code></pre>
<p>To start the tuning, we still need to select how the optimization should take place.
In other words, we need to choose the <strong>optimization algorithm</strong> via the <a href="https://mlr3tuning.mlr-org.com/reference/Tuner.html"><code>Tuner</code></a> class.</p>
</div>
<div id="tuning-algorithms" class="section level3" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> The <code>Tuner</code> Class</h3>
<p>The following algorithms are currently implemented in <a href="https://mlr3tuning.mlr-org.com">mlr3tuning</a>:</p>
<ul>
<li>Grid Search (<a href="https://mlr3tuning.mlr-org.com/reference/mlr_tuners_grid_search.html"><code>TunerGridSearch</code></a>)</li>
<li>Random Search (<a href="https://mlr3tuning.mlr-org.com/reference/mlr_tuners_random_search.html"><code>TunerRandomSearch</code></a>) <span class="citation">(<a href="#ref-bergstra2012" role="doc-biblioref">Bergstra and Bengio 2012</a>)</span></li>
<li>Generalized Simulated Annealing (<a href="https://mlr3tuning.mlr-org.com/reference/mlr_tuners_gensa.html"><code>TunerGenSA</code></a>)</li>
<li>Non-Linear Optimization (<a href="https://mlr3tuning.mlr-org.com/reference/mlr_tuners_nloptr.html"><code>TunerNLoptr</code></a>)</li>
</ul>
<p>In this example, we will use a simple grid search with a grid resolution of 5.</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="tuning.html#cb201-1" aria-hidden="true" tabindex="-1"></a>tuner <span class="ot">=</span> <span class="fu">tnr</span>(<span class="st">&quot;grid_search&quot;</span>, <span class="at">resolution =</span> <span class="dv">5</span>)</span></code></pre></div>
<p>Since we have only numeric parameters, <a href="https://mlr3tuning.mlr-org.com/reference/mlr_tuners_grid_search.html"><code>TunerGridSearch</code></a> will create an equidistant grid between the respective upper and lower bounds.
As we have two hyperparameters with a resolution of 5, the two-dimensional grid consists of <span class="math inline">\(5^2 = 25\)</span> configurations.
Each configuration serves as a hyperparameter setting for the previously defined <a href="https://mlr3.mlr-org.com/reference/Learner.html"><code>Learner</code></a> which is then fitted on the task using the provided <a href="https://mlr3.mlr-org.com/reference/Resampling.html"><code>Resampling</code></a>.
All configurations will be examined by the tuner (in a random order), until either all configurations are evaluated or the <a href="https://bbotk.mlr-org.com/reference/Terminator.html"><code>Terminator</code></a> signals that the budget is exhausted.</p>
</div>
<div id="tuning-triggering" class="section level3" number="3.1.3">
<h3><span class="header-section-number">3.1.3</span> Triggering the Tuning</h3>
<p>To start the tuning, we simply pass the <a href="https://mlr3tuning.mlr-org.com/reference/TuningInstanceSingleCrit.html"><code>TuningInstanceSingleCrit</code></a> to the <code>$optimize()</code> method of the initialized <a href="https://mlr3tuning.mlr-org.com/reference/Tuner.html"><code>Tuner</code></a>.
The tuner proceeds as follows:</p>
<ol style="list-style-type: decimal">
<li>The <a href="https://mlr3tuning.mlr-org.com/reference/Tuner.html"><code>Tuner</code></a> proposes at least one hyperparameter configuration (the <a href="https://mlr3tuning.mlr-org.com/reference/Tuner.html"><code>Tuner</code></a> may propose multiple points to improve parallelization, which can be controlled via the setting <code>batch_size</code>).</li>
<li>For each configuration, the given <a href="https://mlr3.mlr-org.com/reference/Learner.html"><code>Learner</code></a> is fitted on the <a href="https://mlr3.mlr-org.com/reference/Task.html"><code>Task</code></a> using the provided <a href="https://mlr3.mlr-org.com/reference/Resampling.html"><code>Resampling</code></a>.
All evaluations are stored in the archive of the <a href="https://mlr3tuning.mlr-org.com/reference/TuningInstanceSingleCrit.html"><code>TuningInstanceSingleCrit</code></a>.</li>
<li>The <a href="https://bbotk.mlr-org.com/reference/Terminator.html"><code>Terminator</code></a> is queried if the budget is exhausted.
If the budget is not exhausted, restart with 1) until it is.</li>
<li>Determine the configuration with the best observed performance.</li>
<li>Store the best configurations as result in the instance object.
The best hyperparameter settings (<code>$result_learner_param_vals</code>) and the corresponding measured performance (<code>$result_y</code>) can be accessed from the instance.</li>
</ol>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="tuning.html#cb202-1" aria-hidden="true" tabindex="-1"></a>tuner<span class="sc">$</span><span class="fu">optimize</span>(instance)</span></code></pre></div>
<pre><code>## INFO  [09:35:46.507] [bbotk] Starting to optimize 2 parameter(s) with &#39;&lt;OptimizerGridSearch&gt;&#39; and &#39;&lt;TerminatorEvals&gt; [n_evals=20]&#39; 
## INFO  [09:35:46.538] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:46.808] [bbotk] Result of batch 1: 
## INFO  [09:35:46.810] [bbotk]     cp minsplit classif.ce                                uhash 
## INFO  [09:35:46.810] [bbotk]  0.001       10      0.293 7f29c986-707f-41bf-b8e8-6d5306c14736 
## INFO  [09:35:46.811] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:46.885] [bbotk] Result of batch 2: 
## INFO  [09:35:46.887] [bbotk]   cp minsplit classif.ce                                uhash 
## INFO  [09:35:46.887] [bbotk]  0.1        1     0.2852 a2d2d43d-32a6-4fc3-9ee6-beffe5e3ed65 
## INFO  [09:35:46.888] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:46.962] [bbotk] Result of batch 3: 
## INFO  [09:35:46.963] [bbotk]   cp minsplit classif.ce                                uhash 
## INFO  [09:35:46.963] [bbotk]  0.1        3     0.2852 653492d5-fece-498e-936f-a26074e7dc74 
## INFO  [09:35:46.965] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:47.041] [bbotk] Result of batch 4: 
## INFO  [09:35:47.042] [bbotk]     cp minsplit classif.ce                                uhash 
## INFO  [09:35:47.042] [bbotk]  0.001        1     0.2852 0f0b7b99-3e6a-46cd-9534-8b314a8536d1 
## INFO  [09:35:47.044] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:47.125] [bbotk] Result of batch 5: 
## INFO  [09:35:47.126] [bbotk]   cp minsplit classif.ce                                uhash 
## INFO  [09:35:47.126] [bbotk]  0.1        5     0.2852 d945d2a7-f600-4957-80f3-6070972903f1 
## INFO  [09:35:47.128] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:47.201] [bbotk] Result of batch 6: 
## INFO  [09:35:47.203] [bbotk]     cp minsplit classif.ce                                uhash 
## INFO  [09:35:47.203] [bbotk]  0.001        8      0.293 bcc78278-ab93-4781-98b9-5b6550aea1b3 
## INFO  [09:35:47.204] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:47.279] [bbotk] Result of batch 7: 
## INFO  [09:35:47.281] [bbotk]      cp minsplit classif.ce                                uhash 
## INFO  [09:35:47.281] [bbotk]  0.0505       10     0.2852 95cef3a9-265a-42f5-8041-f9577a48c546 
## INFO  [09:35:47.282] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:47.362] [bbotk] Result of batch 8: 
## INFO  [09:35:47.363] [bbotk]       cp minsplit classif.ce                                uhash 
## INFO  [09:35:47.363] [bbotk]  0.07525        8     0.2852 6af1f6f4-c98c-40f7-a427-115b8e3c7ac8 
## INFO  [09:35:47.365] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:47.438] [bbotk] Result of batch 9: 
## INFO  [09:35:47.440] [bbotk]      cp minsplit classif.ce                                uhash 
## INFO  [09:35:47.440] [bbotk]  0.0505        5     0.2852 6a38cd0f-65f6-4a5e-a29e-1775ffbf7d29 
## INFO  [09:35:47.441] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:47.516] [bbotk] Result of batch 10: 
## INFO  [09:35:47.517] [bbotk]       cp minsplit classif.ce                                uhash 
## INFO  [09:35:47.517] [bbotk]  0.07525        1     0.2852 412ad69b-f6d9-4db9-98a9-21040b8aa316 
## INFO  [09:35:47.518] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:47.598] [bbotk] Result of batch 11: 
## INFO  [09:35:47.599] [bbotk]       cp minsplit classif.ce                                uhash 
## INFO  [09:35:47.599] [bbotk]  0.02575        1     0.2852 ea61d7dc-edd1-410d-a9ff-5e6d25adbc35 
## INFO  [09:35:47.601] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:47.674] [bbotk] Result of batch 12: 
## INFO  [09:35:47.676] [bbotk]       cp minsplit classif.ce                                uhash 
## INFO  [09:35:47.676] [bbotk]  0.07525        5     0.2852 6cd4f418-ded1-42bd-803e-e7f1c663ac5c 
## INFO  [09:35:47.677] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:47.751] [bbotk] Result of batch 13: 
## INFO  [09:35:47.753] [bbotk]   cp minsplit classif.ce                                uhash 
## INFO  [09:35:47.753] [bbotk]  0.1       10     0.2852 556d4bae-dc1e-43b3-9a7e-698035dc1ec8 
## INFO  [09:35:47.754] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:47.833] [bbotk] Result of batch 14: 
## INFO  [09:35:47.834] [bbotk]      cp minsplit classif.ce                                uhash 
## INFO  [09:35:47.834] [bbotk]  0.0505        8     0.2852 1b3a3313-1d65-4fd8-978f-c6f9c93446ff 
## INFO  [09:35:47.836] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:47.909] [bbotk] Result of batch 15: 
## INFO  [09:35:47.911] [bbotk]       cp minsplit classif.ce                                uhash 
## INFO  [09:35:47.911] [bbotk]  0.02575       10     0.2852 2d8a6ce5-8944-48a4-a2cb-02187425736b 
## INFO  [09:35:47.912] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:47.987] [bbotk] Result of batch 16: 
## INFO  [09:35:47.988] [bbotk]       cp minsplit classif.ce                                uhash 
## INFO  [09:35:47.988] [bbotk]  0.07525        3     0.2852 55acb10f-69ef-4575-866c-0a7eeae9d493 
## INFO  [09:35:47.996] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:48.069] [bbotk] Result of batch 17: 
## INFO  [09:35:48.071] [bbotk]   cp minsplit classif.ce                                uhash 
## INFO  [09:35:48.071] [bbotk]  0.1        8     0.2852 48055c19-a4b5-40ca-80af-8363671f7871 
## INFO  [09:35:48.072] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:48.146] [bbotk] Result of batch 18: 
## INFO  [09:35:48.147] [bbotk]      cp minsplit classif.ce                                uhash 
## INFO  [09:35:48.147] [bbotk]  0.0505        3     0.2852 f8c77038-884d-49fc-9073-dbef0713c8e1 
## INFO  [09:35:48.149] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:48.229] [bbotk] Result of batch 19: 
## INFO  [09:35:48.231] [bbotk]       cp minsplit classif.ce                                uhash 
## INFO  [09:35:48.231] [bbotk]  0.02575        8     0.2852 64192cdb-fc37-4f9e-bc50-f738971788a0 
## INFO  [09:35:48.232] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:48.305] [bbotk] Result of batch 20: 
## INFO  [09:35:48.306] [bbotk]       cp minsplit classif.ce                                uhash 
## INFO  [09:35:48.306] [bbotk]  0.02575        5     0.2852 ace22a1d-1843-4ce5-ae86-5ec9828fc533 
## INFO  [09:35:48.312] [bbotk] Finished optimizing after 20 evaluation(s) 
## INFO  [09:35:48.313] [bbotk] Result: 
## INFO  [09:35:48.314] [bbotk]   cp minsplit learner_param_vals  x_domain classif.ce 
## INFO  [09:35:48.314] [bbotk]  0.1        1          &lt;list[3]&gt; &lt;list[2]&gt;     0.2852</code></pre>
<pre><code>##     cp minsplit learner_param_vals  x_domain classif.ce
## 1: 0.1        1          &lt;list[3]&gt; &lt;list[2]&gt;     0.2852</code></pre>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="tuning.html#cb205-1" aria-hidden="true" tabindex="-1"></a>instance<span class="sc">$</span>result_learner_param_vals</span></code></pre></div>
<pre><code>## $xval
## [1] 0
## 
## $cp
## [1] 0.1
## 
## $minsplit
## [1] 1</code></pre>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="tuning.html#cb207-1" aria-hidden="true" tabindex="-1"></a>instance<span class="sc">$</span>result_y</span></code></pre></div>
<pre><code>## classif.ce 
##     0.2852</code></pre>
<p>One can investigate all resamplings which were undertaken, as they are stored in the archive of the <a href="https://mlr3tuning.mlr-org.com/reference/TuningInstanceSingleCrit.html"><code>TuningInstanceSingleCrit</code></a> and can be accessed by using <code>as.data.table()</code>:</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="tuning.html#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.data.table</span>(instance<span class="sc">$</span>archive)</span></code></pre></div>
<pre><code>##          cp minsplit classif.ce                                uhash
##  1: 0.00100       10     0.2930 7f29c986-707f-41bf-b8e8-6d5306c14736
##  2: 0.10000        1     0.2852 a2d2d43d-32a6-4fc3-9ee6-beffe5e3ed65
##  3: 0.10000        3     0.2852 653492d5-fece-498e-936f-a26074e7dc74
##  4: 0.00100        1     0.2852 0f0b7b99-3e6a-46cd-9534-8b314a8536d1
##  5: 0.10000        5     0.2852 d945d2a7-f600-4957-80f3-6070972903f1
##  6: 0.00100        8     0.2930 bcc78278-ab93-4781-98b9-5b6550aea1b3
##  7: 0.05050       10     0.2852 95cef3a9-265a-42f5-8041-f9577a48c546
##  8: 0.07525        8     0.2852 6af1f6f4-c98c-40f7-a427-115b8e3c7ac8
##  9: 0.05050        5     0.2852 6a38cd0f-65f6-4a5e-a29e-1775ffbf7d29
## 10: 0.07525        1     0.2852 412ad69b-f6d9-4db9-98a9-21040b8aa316
## 11: 0.02575        1     0.2852 ea61d7dc-edd1-410d-a9ff-5e6d25adbc35
## 12: 0.07525        5     0.2852 6cd4f418-ded1-42bd-803e-e7f1c663ac5c
## 13: 0.10000       10     0.2852 556d4bae-dc1e-43b3-9a7e-698035dc1ec8
## 14: 0.05050        8     0.2852 1b3a3313-1d65-4fd8-978f-c6f9c93446ff
## 15: 0.02575       10     0.2852 2d8a6ce5-8944-48a4-a2cb-02187425736b
## 16: 0.07525        3     0.2852 55acb10f-69ef-4575-866c-0a7eeae9d493
## 17: 0.10000        8     0.2852 48055c19-a4b5-40ca-80af-8363671f7871
## 18: 0.05050        3     0.2852 f8c77038-884d-49fc-9073-dbef0713c8e1
## 19: 0.02575        8     0.2852 64192cdb-fc37-4f9e-bc50-f738971788a0
## 20: 0.02575        5     0.2852 ace22a1d-1843-4ce5-ae86-5ec9828fc533
##               timestamp batch_nr x_domain_cp x_domain_minsplit
##  1: 2021-06-01 09:35:46        1     0.00100                10
##  2: 2021-06-01 09:35:46        2     0.10000                 1
##  3: 2021-06-01 09:35:46        3     0.10000                 3
##  4: 2021-06-01 09:35:47        4     0.00100                 1
##  5: 2021-06-01 09:35:47        5     0.10000                 5
##  6: 2021-06-01 09:35:47        6     0.00100                 8
##  7: 2021-06-01 09:35:47        7     0.05050                10
##  8: 2021-06-01 09:35:47        8     0.07525                 8
##  9: 2021-06-01 09:35:47        9     0.05050                 5
## 10: 2021-06-01 09:35:47       10     0.07525                 1
## 11: 2021-06-01 09:35:47       11     0.02575                 1
## 12: 2021-06-01 09:35:47       12     0.07525                 5
## 13: 2021-06-01 09:35:47       13     0.10000                10
## 14: 2021-06-01 09:35:47       14     0.05050                 8
## 15: 2021-06-01 09:35:47       15     0.02575                10
## 16: 2021-06-01 09:35:47       16     0.07525                 3
## 17: 2021-06-01 09:35:48       17     0.10000                 8
## 18: 2021-06-01 09:35:48       18     0.05050                 3
## 19: 2021-06-01 09:35:48       19     0.02575                 8
## 20: 2021-06-01 09:35:48       20     0.02575                 5</code></pre>
<p>In sum, the grid search evaluated 20/25 different configurations of the grid in a random order before the <a href="https://bbotk.mlr-org.com/reference/Terminator.html"><code>Terminator</code></a> stopped the tuning.</p>
<p>The associated resampling iterations can be accessed in the <a href="https://mlr3.mlr-org.com/reference/BenchmarkResult.html"><code>BenchmarkResult</code></a>:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="tuning.html#cb211-1" aria-hidden="true" tabindex="-1"></a>instance<span class="sc">$</span>archive<span class="sc">$</span>benchmark_result</span></code></pre></div>
<pre><code>## &lt;BenchmarkResult&gt; of 20 rows with 20 resampling runs
##  nr task_id    learner_id resampling_id iters warnings errors
##   1    pima classif.rpart       holdout     1        0      0
##   2    pima classif.rpart       holdout     1        0      0
##   3    pima classif.rpart       holdout     1        0      0
##   4    pima classif.rpart       holdout     1        0      0
##   5    pima classif.rpart       holdout     1        0      0
##   6    pima classif.rpart       holdout     1        0      0
##   7    pima classif.rpart       holdout     1        0      0
##   8    pima classif.rpart       holdout     1        0      0
##   9    pima classif.rpart       holdout     1        0      0
##  10    pima classif.rpart       holdout     1        0      0
##  11    pima classif.rpart       holdout     1        0      0
##  12    pima classif.rpart       holdout     1        0      0
##  13    pima classif.rpart       holdout     1        0      0
##  14    pima classif.rpart       holdout     1        0      0
##  15    pima classif.rpart       holdout     1        0      0
##  16    pima classif.rpart       holdout     1        0      0
##  17    pima classif.rpart       holdout     1        0      0
##  18    pima classif.rpart       holdout     1        0      0
##  19    pima classif.rpart       holdout     1        0      0
##  20    pima classif.rpart       holdout     1        0      0</code></pre>
<p>The <code>uhash</code> column links the resampling iterations to the evaluated configurations stored in <code>instance$archive$data</code>. This allows e.g. to score the included <a href="https://mlr3.mlr-org.com/reference/ResampleResult.html"><code>ResampleResult</code></a>s on a different measure.</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="tuning.html#cb213-1" aria-hidden="true" tabindex="-1"></a>instance<span class="sc">$</span>archive<span class="sc">$</span>benchmark_result<span class="sc">$</span><span class="fu">score</span>(<span class="fu">msr</span>(<span class="st">&quot;classif.acc&quot;</span>))</span></code></pre></div>
<pre><code>##                                    uhash nr              task task_id
##  1: 7f29c986-707f-41bf-b8e8-6d5306c14736  1 &lt;TaskClassif[46]&gt;    pima
##  2: a2d2d43d-32a6-4fc3-9ee6-beffe5e3ed65  2 &lt;TaskClassif[46]&gt;    pima
##  3: 653492d5-fece-498e-936f-a26074e7dc74  3 &lt;TaskClassif[46]&gt;    pima
##  4: 0f0b7b99-3e6a-46cd-9534-8b314a8536d1  4 &lt;TaskClassif[46]&gt;    pima
##  5: d945d2a7-f600-4957-80f3-6070972903f1  5 &lt;TaskClassif[46]&gt;    pima
##  6: bcc78278-ab93-4781-98b9-5b6550aea1b3  6 &lt;TaskClassif[46]&gt;    pima
##  7: 95cef3a9-265a-42f5-8041-f9577a48c546  7 &lt;TaskClassif[46]&gt;    pima
##  8: 6af1f6f4-c98c-40f7-a427-115b8e3c7ac8  8 &lt;TaskClassif[46]&gt;    pima
##  9: 6a38cd0f-65f6-4a5e-a29e-1775ffbf7d29  9 &lt;TaskClassif[46]&gt;    pima
## 10: 412ad69b-f6d9-4db9-98a9-21040b8aa316 10 &lt;TaskClassif[46]&gt;    pima
## 11: ea61d7dc-edd1-410d-a9ff-5e6d25adbc35 11 &lt;TaskClassif[46]&gt;    pima
## 12: 6cd4f418-ded1-42bd-803e-e7f1c663ac5c 12 &lt;TaskClassif[46]&gt;    pima
## 13: 556d4bae-dc1e-43b3-9a7e-698035dc1ec8 13 &lt;TaskClassif[46]&gt;    pima
## 14: 1b3a3313-1d65-4fd8-978f-c6f9c93446ff 14 &lt;TaskClassif[46]&gt;    pima
## 15: 2d8a6ce5-8944-48a4-a2cb-02187425736b 15 &lt;TaskClassif[46]&gt;    pima
## 16: 55acb10f-69ef-4575-866c-0a7eeae9d493 16 &lt;TaskClassif[46]&gt;    pima
## 17: 48055c19-a4b5-40ca-80af-8363671f7871 17 &lt;TaskClassif[46]&gt;    pima
## 18: f8c77038-884d-49fc-9073-dbef0713c8e1 18 &lt;TaskClassif[46]&gt;    pima
## 19: 64192cdb-fc37-4f9e-bc50-f738971788a0 19 &lt;TaskClassif[46]&gt;    pima
## 20: ace22a1d-1843-4ce5-ae86-5ec9828fc533 20 &lt;TaskClassif[46]&gt;    pima
##                       learner    learner_id              resampling
##  1: &lt;LearnerClassifRpart[34]&gt; classif.rpart &lt;ResamplingHoldout[19]&gt;
##  2: &lt;LearnerClassifRpart[34]&gt; classif.rpart &lt;ResamplingHoldout[19]&gt;
##  3: &lt;LearnerClassifRpart[34]&gt; classif.rpart &lt;ResamplingHoldout[19]&gt;
##  4: &lt;LearnerClassifRpart[34]&gt; classif.rpart &lt;ResamplingHoldout[19]&gt;
##  5: &lt;LearnerClassifRpart[34]&gt; classif.rpart &lt;ResamplingHoldout[19]&gt;
##  6: &lt;LearnerClassifRpart[34]&gt; classif.rpart &lt;ResamplingHoldout[19]&gt;
##  7: &lt;LearnerClassifRpart[34]&gt; classif.rpart &lt;ResamplingHoldout[19]&gt;
##  8: &lt;LearnerClassifRpart[34]&gt; classif.rpart &lt;ResamplingHoldout[19]&gt;
##  9: &lt;LearnerClassifRpart[34]&gt; classif.rpart &lt;ResamplingHoldout[19]&gt;
## 10: &lt;LearnerClassifRpart[34]&gt; classif.rpart &lt;ResamplingHoldout[19]&gt;
## 11: &lt;LearnerClassifRpart[34]&gt; classif.rpart &lt;ResamplingHoldout[19]&gt;
## 12: &lt;LearnerClassifRpart[34]&gt; classif.rpart &lt;ResamplingHoldout[19]&gt;
## 13: &lt;LearnerClassifRpart[34]&gt; classif.rpart &lt;ResamplingHoldout[19]&gt;
## 14: &lt;LearnerClassifRpart[34]&gt; classif.rpart &lt;ResamplingHoldout[19]&gt;
## 15: &lt;LearnerClassifRpart[34]&gt; classif.rpart &lt;ResamplingHoldout[19]&gt;
## 16: &lt;LearnerClassifRpart[34]&gt; classif.rpart &lt;ResamplingHoldout[19]&gt;
## 17: &lt;LearnerClassifRpart[34]&gt; classif.rpart &lt;ResamplingHoldout[19]&gt;
## 18: &lt;LearnerClassifRpart[34]&gt; classif.rpart &lt;ResamplingHoldout[19]&gt;
## 19: &lt;LearnerClassifRpart[34]&gt; classif.rpart &lt;ResamplingHoldout[19]&gt;
## 20: &lt;LearnerClassifRpart[34]&gt; classif.rpart &lt;ResamplingHoldout[19]&gt;
##     resampling_id iteration              prediction classif.acc
##  1:       holdout         1 &lt;PredictionClassif[19]&gt;      0.7070
##  2:       holdout         1 &lt;PredictionClassif[19]&gt;      0.7148
##  3:       holdout         1 &lt;PredictionClassif[19]&gt;      0.7148
##  4:       holdout         1 &lt;PredictionClassif[19]&gt;      0.7148
##  5:       holdout         1 &lt;PredictionClassif[19]&gt;      0.7148
##  6:       holdout         1 &lt;PredictionClassif[19]&gt;      0.7070
##  7:       holdout         1 &lt;PredictionClassif[19]&gt;      0.7148
##  8:       holdout         1 &lt;PredictionClassif[19]&gt;      0.7148
##  9:       holdout         1 &lt;PredictionClassif[19]&gt;      0.7148
## 10:       holdout         1 &lt;PredictionClassif[19]&gt;      0.7148
## 11:       holdout         1 &lt;PredictionClassif[19]&gt;      0.7148
## 12:       holdout         1 &lt;PredictionClassif[19]&gt;      0.7148
## 13:       holdout         1 &lt;PredictionClassif[19]&gt;      0.7148
## 14:       holdout         1 &lt;PredictionClassif[19]&gt;      0.7148
## 15:       holdout         1 &lt;PredictionClassif[19]&gt;      0.7148
## 16:       holdout         1 &lt;PredictionClassif[19]&gt;      0.7148
## 17:       holdout         1 &lt;PredictionClassif[19]&gt;      0.7148
## 18:       holdout         1 &lt;PredictionClassif[19]&gt;      0.7148
## 19:       holdout         1 &lt;PredictionClassif[19]&gt;      0.7148
## 20:       holdout         1 &lt;PredictionClassif[19]&gt;      0.7148</code></pre>
<p>Now the optimized hyperparameters can take the previously created <a href="https://mlr3.mlr-org.com/reference/Learner.html"><code>Learner</code></a>, set the returned hyperparameters and train it on the full dataset.</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="tuning.html#cb215-1" aria-hidden="true" tabindex="-1"></a>learner<span class="sc">$</span>param_set<span class="sc">$</span>values <span class="ot">=</span> instance<span class="sc">$</span>result_learner_param_vals</span>
<span id="cb215-2"><a href="tuning.html#cb215-2" aria-hidden="true" tabindex="-1"></a>learner<span class="sc">$</span><span class="fu">train</span>(task)</span></code></pre></div>
<p>The trained model can now be used to make a prediction on external data.
Note that predicting on observations present in the <code>task</code>, should be avoided.
The model has seen these observations already during tuning and therefore results would be statistically biased.
Hence, the resulting performance measure would be over-optimistic.
Instead, to get statistically unbiased performance estimates for the current task, <a href="nested-resampling.html#nested-resampling">nested resampling</a> is required.</p>
</div>
<div id="autotuner" class="section level3" number="3.1.4">
<h3><span class="header-section-number">3.1.4</span> Automating the Tuning</h3>
<p>The <a href="https://mlr3tuning.mlr-org.com/reference/AutoTuner.html"><code>AutoTuner</code></a> wraps a learner and augments it with an automatic tuning for a given set of hyperparameters.
Because the <a href="https://mlr3tuning.mlr-org.com/reference/AutoTuner.html"><code>AutoTuner</code></a> itself inherits from the <a href="https://mlr3.mlr-org.com/reference/Learner.html"><code>Learner</code></a> base class, it can be used like any other learner.
Analogously to the previous subsection, a new classification tree learner is created.
This classification tree learner automatically tunes the parameters <code>cp</code> and <code>minsplit</code> using an inner resampling (holdout).
We create a terminator which allows 10 evaluations, and use a simple random search as tuning algorithm:</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="tuning.html#cb216-1" aria-hidden="true" tabindex="-1"></a>learner <span class="ot">=</span> <span class="fu">lrn</span>(<span class="st">&quot;classif.rpart&quot;</span>)</span>
<span id="cb216-2"><a href="tuning.html#cb216-2" aria-hidden="true" tabindex="-1"></a>search_space <span class="ot">=</span> <span class="fu">ps</span>(</span>
<span id="cb216-3"><a href="tuning.html#cb216-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">cp =</span> <span class="fu">p_dbl</span>(<span class="at">lower =</span> <span class="fl">0.001</span>, <span class="at">upper =</span> <span class="fl">0.1</span>),</span>
<span id="cb216-4"><a href="tuning.html#cb216-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">minsplit =</span> <span class="fu">p_int</span>(<span class="at">lower =</span> <span class="dv">1</span>, <span class="at">upper =</span> <span class="dv">10</span>)</span>
<span id="cb216-5"><a href="tuning.html#cb216-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb216-6"><a href="tuning.html#cb216-6" aria-hidden="true" tabindex="-1"></a>terminator <span class="ot">=</span> <span class="fu">trm</span>(<span class="st">&quot;evals&quot;</span>, <span class="at">n_evals =</span> <span class="dv">10</span>)</span>
<span id="cb216-7"><a href="tuning.html#cb216-7" aria-hidden="true" tabindex="-1"></a>tuner <span class="ot">=</span> <span class="fu">tnr</span>(<span class="st">&quot;random_search&quot;</span>)</span>
<span id="cb216-8"><a href="tuning.html#cb216-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb216-9"><a href="tuning.html#cb216-9" aria-hidden="true" tabindex="-1"></a>at <span class="ot">=</span> AutoTuner<span class="sc">$</span><span class="fu">new</span>(</span>
<span id="cb216-10"><a href="tuning.html#cb216-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">learner =</span> learner,</span>
<span id="cb216-11"><a href="tuning.html#cb216-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">resampling =</span> <span class="fu">rsmp</span>(<span class="st">&quot;holdout&quot;</span>),</span>
<span id="cb216-12"><a href="tuning.html#cb216-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">measure =</span> <span class="fu">msr</span>(<span class="st">&quot;classif.ce&quot;</span>),</span>
<span id="cb216-13"><a href="tuning.html#cb216-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">search_space =</span> search_space,</span>
<span id="cb216-14"><a href="tuning.html#cb216-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">terminator =</span> terminator,</span>
<span id="cb216-15"><a href="tuning.html#cb216-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">tuner =</span> tuner</span>
<span id="cb216-16"><a href="tuning.html#cb216-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb216-17"><a href="tuning.html#cb216-17" aria-hidden="true" tabindex="-1"></a>at</span></code></pre></div>
<pre><code>## &lt;AutoTuner:classif.rpart.tuned&gt;
## * Model: -
## * Parameters: list()
## * Packages: rpart
## * Predict Type: response
## * Feature types: logical, integer, numeric, factor, ordered
## * Properties: importance, missings, multiclass, selected_features,
##   twoclass, weights</code></pre>
<p>We can now use the learner like any other learner, calling the <code>$train()</code> and <code>$predict()</code> method.</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="tuning.html#cb218-1" aria-hidden="true" tabindex="-1"></a>at<span class="sc">$</span><span class="fu">train</span>(task)</span></code></pre></div>
<pre><code>## INFO  [09:35:48.706] [bbotk] Starting to optimize 2 parameter(s) with &#39;&lt;OptimizerRandomSearch&gt;&#39; and &#39;&lt;TerminatorEvals&gt; [n_evals=10]&#39; 
## INFO  [09:35:48.721] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:48.792] [bbotk] Result of batch 1: 
## INFO  [09:35:48.793] [bbotk]       cp minsplit classif.ce                                uhash 
## INFO  [09:35:48.793] [bbotk]  0.04267        4     0.2344 210d7e04-d5bb-4d36-a88c-030a2c708d5d 
## INFO  [09:35:48.797] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:48.883] [bbotk] Result of batch 2: 
## INFO  [09:35:48.884] [bbotk]       cp minsplit classif.ce                                uhash 
## INFO  [09:35:48.884] [bbotk]  0.04667        9     0.2344 16096ad4-078e-42dc-bcd9-7d98e52b6a0b 
## INFO  [09:35:48.888] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:48.962] [bbotk] Result of batch 3: 
## INFO  [09:35:48.963] [bbotk]       cp minsplit classif.ce                                uhash 
## INFO  [09:35:48.963] [bbotk]  0.06371        6     0.2344 78a8f6d6-8277-4fb7-b0d5-44ffb34906d7 
## INFO  [09:35:48.967] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:49.040] [bbotk] Result of batch 4: 
## INFO  [09:35:49.041] [bbotk]       cp minsplit classif.ce                                uhash 
## INFO  [09:35:49.041] [bbotk]  0.05232        3     0.2344 1f9d4087-bbc7-4f32-8916-e8ad9a09bba2 
## INFO  [09:35:49.045] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:49.117] [bbotk] Result of batch 5: 
## INFO  [09:35:49.119] [bbotk]       cp minsplit classif.ce                                uhash 
## INFO  [09:35:49.119] [bbotk]  0.04077        2     0.2344 94f9608f-e49d-48bc-b7ee-24f131f9b15b 
## INFO  [09:35:49.122] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:49.204] [bbotk] Result of batch 6: 
## INFO  [09:35:49.206] [bbotk]       cp minsplit classif.ce                                uhash 
## INFO  [09:35:49.206] [bbotk]  0.03277        2     0.2344 bc78ab00-74f7-471c-a06e-3c9be449829e 
## INFO  [09:35:49.209] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:49.282] [bbotk] Result of batch 7: 
## INFO  [09:35:49.284] [bbotk]       cp minsplit classif.ce                                uhash 
## INFO  [09:35:49.284] [bbotk]  0.07266        3     0.2344 61a6e92e-59ba-40bb-94ce-9288fb4899cd 
## INFO  [09:35:49.287] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:49.384] [bbotk] Result of batch 8: 
## INFO  [09:35:49.386] [bbotk]       cp minsplit classif.ce                                uhash 
## INFO  [09:35:49.386] [bbotk]  0.06448        9     0.2344 a269d255-e032-40e7-a4b9-8f0415ed3168 
## INFO  [09:35:49.389] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:49.463] [bbotk] Result of batch 9: 
## INFO  [09:35:49.465] [bbotk]       cp minsplit classif.ce                                uhash 
## INFO  [09:35:49.465] [bbotk]  0.03403       10     0.2344 a4e0f533-7290-41c5-9a82-25f1ccbbf197 
## INFO  [09:35:49.468] [bbotk] Evaluating 1 configuration(s) 
## INFO  [09:35:49.542] [bbotk] Result of batch 10: 
## INFO  [09:35:49.543] [bbotk]       cp minsplit classif.ce                                uhash 
## INFO  [09:35:49.543] [bbotk]  0.07853        9     0.2344 96c44ffb-5904-41e6-8cc7-a697455b59f0 
## INFO  [09:35:49.551] [bbotk] Finished optimizing after 10 evaluation(s) 
## INFO  [09:35:49.552] [bbotk] Result: 
## INFO  [09:35:49.553] [bbotk]       cp minsplit learner_param_vals  x_domain classif.ce 
## INFO  [09:35:49.553] [bbotk]  0.04267        4          &lt;list[3]&gt; &lt;list[2]&gt;     0.2344</code></pre>
<p>We can also pass it to <a href="https://mlr3.mlr-org.com/reference/resample.html"><code>resample()</code></a> and <a href="https://mlr3.mlr-org.com/reference/benchmark.html"><code>benchmark()</code></a>. This is called <a href="nested-resampling.html#nested-resampling">nested resampling</a> which is discussed in the next chapter.</p>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-bergstra2012" class="csl-entry">
<p>Bergstra, James, and Yoshua Bengio. 2012. <span>“Random <span>Search</span> for <span>Hyper</span>-Parameter <span>Optimization</span>.”</span> <em>J. Mach. Learn. Res.</em> 13: 281–305.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="optimization.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="searchspace.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mlr-org/mlr3book/edit/master/bookdown/03-optimization-tuning.Rmd",
"text": "Edit this chapter"
},
"history": {
"link": "https://github.com/mlr-org/mlr3book/commits/master/bookdown/03-optimization-tuning.Rmd",
"text": "Edit history"
},
"view": {
"link": null,
"text": null
},
"download": [["mlr3book.pdf", "PDF"]],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
