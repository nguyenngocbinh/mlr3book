<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3.2 Tuning Search Spaces | mlr3 book</title>
  <meta name="description" content="3.2 Tuning Search Spaces | mlr3 book" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="3.2 Tuning Search Spaces | mlr3 book" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://mlr3book.mlr-org.com/" />
  <meta property="og:image" content="https://mlr3book.mlr-org.com//block.png" />
  
  <meta name="github-repo" content="mlr-org/mlr3book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3.2 Tuning Search Spaces | mlr3 book" />
  
  
  <meta name="twitter:image" content="https://mlr3book.mlr-org.com//block.png" />

<meta name="author" content="Marc Becker" />
<meta name="author" content="Martin Binder" />
<meta name="author" content="Bernd Bischl" />
<meta name="author" content="Michel Lang" />
<meta name="author" content="Florian Pfisterer" />
<meta name="author" content="Nicholas G. Reich" />
<meta name="author" content="Jakob Richter" />
<meta name="author" content="Patrick Schratz" />
<meta name="author" content="Raphael Sonabend" />


<meta name="date" content="2021-06-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" sizes="180x180" href="apple-touch-icon.png" />
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="tuning.html"/>
<link rel="next" href="nested-resampling.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">mlr3 Manual <img src='https://raw.githubusercontent.com/mlr-org/mlr3/master/man/figures/logo.png' width=30 /></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Citation Info</a></li>
<li class="chapter" data-level="" data-path="quickstart.html"><a href="quickstart.html"><i class="fa fa-check"></i>Quickstart</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction and Overview</a></li>
<li class="chapter" data-level="2" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>2</b> Basics</a>
<ul>
<li class="chapter" data-level="2.1" data-path="r6.html"><a href="r6.html"><i class="fa fa-check"></i><b>2.1</b> Quick R6 Intro for Beginners</a></li>
<li class="chapter" data-level="2.2" data-path="tasks.html"><a href="tasks.html"><i class="fa fa-check"></i><b>2.2</b> Tasks</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="tasks.html"><a href="tasks.html#tasks-types"><i class="fa fa-check"></i><b>2.2.1</b> Task Types</a></li>
<li class="chapter" data-level="2.2.2" data-path="tasks.html"><a href="tasks.html#tasks-creation"><i class="fa fa-check"></i><b>2.2.2</b> Task Creation</a></li>
<li class="chapter" data-level="2.2.3" data-path="tasks.html"><a href="tasks.html#tasks-predefined"><i class="fa fa-check"></i><b>2.2.3</b> Predefined tasks</a></li>
<li class="chapter" data-level="2.2.4" data-path="tasks.html"><a href="tasks.html#tasks-api"><i class="fa fa-check"></i><b>2.2.4</b> Task API</a>
<ul>
<li class="chapter" data-level="2.2.4.1" data-path="tasks.html"><a href="tasks.html#tasks-retrieving"><i class="fa fa-check"></i><b>2.2.4.1</b> Retrieving Data</a></li>
<li class="chapter" data-level="2.2.4.2" data-path="tasks.html"><a href="tasks.html#tasks-roles"><i class="fa fa-check"></i><b>2.2.4.2</b> Roles (Rows and Columns)</a></li>
<li class="chapter" data-level="2.2.4.3" data-path="tasks.html"><a href="tasks.html#tasks-mutators"><i class="fa fa-check"></i><b>2.2.4.3</b> Task Mutators</a></li>
</ul></li>
<li class="chapter" data-level="2.2.5" data-path="tasks.html"><a href="tasks.html#autoplot-task"><i class="fa fa-check"></i><b>2.2.5</b> Plotting Tasks</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="learners.html"><a href="learners.html"><i class="fa fa-check"></i><b>2.3</b> Learners</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="learners.html"><a href="learners.html#predefined-learners"><i class="fa fa-check"></i><b>2.3.1</b> Predefined Learners</a></li>
<li class="chapter" data-level="2.3.2" data-path="learners.html"><a href="learners.html#learner-api"><i class="fa fa-check"></i><b>2.3.2</b> Learner API</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="train-predict.html"><a href="train-predict.html"><i class="fa fa-check"></i><b>2.4</b> Train, Predict, Score</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="train-predict.html"><a href="train-predict.html#train-predict-objects"><i class="fa fa-check"></i><b>2.4.1</b> Creating Task and Learner Objects</a></li>
<li class="chapter" data-level="2.4.2" data-path="train-predict.html"><a href="train-predict.html#split-data"><i class="fa fa-check"></i><b>2.4.2</b> Setting up the train/test splits of the data</a></li>
<li class="chapter" data-level="2.4.3" data-path="train-predict.html"><a href="train-predict.html#training"><i class="fa fa-check"></i><b>2.4.3</b> Training the learner</a></li>
<li class="chapter" data-level="2.4.4" data-path="train-predict.html"><a href="train-predict.html#predicting"><i class="fa fa-check"></i><b>2.4.4</b> Predicting</a></li>
<li class="chapter" data-level="2.4.5" data-path="train-predict.html"><a href="train-predict.html#predict-type"><i class="fa fa-check"></i><b>2.4.5</b> Changing the Predict Type</a></li>
<li class="chapter" data-level="2.4.6" data-path="train-predict.html"><a href="train-predict.html#autoplot-prediction"><i class="fa fa-check"></i><b>2.4.6</b> Plotting Predictions</a></li>
<li class="chapter" data-level="2.4.7" data-path="train-predict.html"><a href="train-predict.html#measure"><i class="fa fa-check"></i><b>2.4.7</b> Performance assessment</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="resampling.html"><a href="resampling.html"><i class="fa fa-check"></i><b>2.5</b> Resampling</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="resampling.html"><a href="resampling.html#resampling-settings"><i class="fa fa-check"></i><b>2.5.1</b> Settings</a></li>
<li class="chapter" data-level="2.5.2" data-path="resampling.html"><a href="resampling.html#resampling-inst"><i class="fa fa-check"></i><b>2.5.2</b> Instantiation</a></li>
<li class="chapter" data-level="2.5.3" data-path="resampling.html"><a href="resampling.html#resampling-exec"><i class="fa fa-check"></i><b>2.5.3</b> Execution</a></li>
<li class="chapter" data-level="2.5.4" data-path="resampling.html"><a href="resampling.html#resamp-custom"><i class="fa fa-check"></i><b>2.5.4</b> Custom resampling</a></li>
<li class="chapter" data-level="2.5.5" data-path="resampling.html"><a href="resampling.html#resampling-with-predefined-groups"><i class="fa fa-check"></i><b>2.5.5</b> Resampling with predefined groups</a></li>
<li class="chapter" data-level="2.5.6" data-path="resampling.html"><a href="resampling.html#autoplot-resampleresult"><i class="fa fa-check"></i><b>2.5.6</b> Plotting Resample Results</a></li>
<li class="chapter" data-level="2.5.7" data-path="resampling.html"><a href="resampling.html#autoplot-resample-partition"><i class="fa fa-check"></i><b>2.5.7</b> Plotting Resample Partitions</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="benchmarking.html"><a href="benchmarking.html"><i class="fa fa-check"></i><b>2.6</b> Benchmarking</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="benchmarking.html"><a href="benchmarking.html#bm-design"><i class="fa fa-check"></i><b>2.6.1</b> Design Creation</a></li>
<li class="chapter" data-level="2.6.2" data-path="benchmarking.html"><a href="benchmarking.html#bm-exec"><i class="fa fa-check"></i><b>2.6.2</b> Execution and Aggregation of Results</a></li>
<li class="chapter" data-level="2.6.3" data-path="benchmarking.html"><a href="benchmarking.html#autoplot-benchmarkresult"><i class="fa fa-check"></i><b>2.6.3</b> Plotting Benchmark Results</a></li>
<li class="chapter" data-level="2.6.4" data-path="benchmarking.html"><a href="benchmarking.html#bm-resamp"><i class="fa fa-check"></i><b>2.6.4</b> Extracting ResampleResults</a></li>
<li class="chapter" data-level="2.6.5" data-path="benchmarking.html"><a href="benchmarking.html#converting-and-merging"><i class="fa fa-check"></i><b>2.6.5</b> Converting and Merging</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="binary-classification.html"><a href="binary-classification.html"><i class="fa fa-check"></i><b>2.7</b> Binary classification</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="binary-classification.html"><a href="binary-classification.html#binary-roc"><i class="fa fa-check"></i><b>2.7.1</b> ROC Curve and Thresholds</a></li>
<li class="chapter" data-level="2.7.2" data-path="binary-classification.html"><a href="binary-classification.html#threshold-tuning"><i class="fa fa-check"></i><b>2.7.2</b> Threshold Tuning</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="optimization.html"><a href="optimization.html"><i class="fa fa-check"></i><b>3</b> Model Optimization</a>
<ul>
<li class="chapter" data-level="3.1" data-path="tuning.html"><a href="tuning.html"><i class="fa fa-check"></i><b>3.1</b> Hyperparameter Tuning</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="tuning.html"><a href="tuning.html#tuning-optimization"><i class="fa fa-check"></i><b>3.1.1</b> The <code>TuningInstance*</code> Classes</a></li>
<li class="chapter" data-level="3.1.2" data-path="tuning.html"><a href="tuning.html#tuning-algorithms"><i class="fa fa-check"></i><b>3.1.2</b> The <code>Tuner</code> Class</a></li>
<li class="chapter" data-level="3.1.3" data-path="tuning.html"><a href="tuning.html#tuning-triggering"><i class="fa fa-check"></i><b>3.1.3</b> Triggering the Tuning</a></li>
<li class="chapter" data-level="3.1.4" data-path="tuning.html"><a href="tuning.html#autotuner"><i class="fa fa-check"></i><b>3.1.4</b> Automating the Tuning</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="searchspace.html"><a href="searchspace.html"><i class="fa fa-check"></i><b>3.2</b> Tuning Search Spaces</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="searchspace.html"><a href="searchspace.html#creating-paramsets"><i class="fa fa-check"></i><b>3.2.1</b> Creating <code>ParamSet</code>s</a></li>
<li class="chapter" data-level="3.2.2" data-path="searchspace.html"><a href="searchspace.html#searchspace-trafo"><i class="fa fa-check"></i><b>3.2.2</b> Transformations (<code>trafo</code>)</a></li>
<li class="chapter" data-level="3.2.3" data-path="searchspace.html"><a href="searchspace.html#autolevel"><i class="fa fa-check"></i><b>3.2.3</b> Automatic Factor Level Transformation</a></li>
<li class="chapter" data-level="3.2.4" data-path="searchspace.html"><a href="searchspace.html#searchspace-depends"><i class="fa fa-check"></i><b>3.2.4</b> Parameter Dependencies (<code>depends</code>)</a></li>
<li class="chapter" data-level="3.2.5" data-path="searchspace.html"><a href="searchspace.html#creating-tuning-paramsets-from-other-paramsets"><i class="fa fa-check"></i><b>3.2.5</b> Creating Tuning ParamSets from other ParamSets</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="nested-resampling.html"><a href="nested-resampling.html"><i class="fa fa-check"></i><b>3.3</b> Nested Resampling</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="nested-resampling.html"><a href="nested-resampling.html#nested-resamp-exec"><i class="fa fa-check"></i><b>3.3.1</b> Execution</a></li>
<li class="chapter" data-level="3.3.2" data-path="nested-resampling.html"><a href="nested-resampling.html#nested-resamp-eval"><i class="fa fa-check"></i><b>3.3.2</b> Evaluation</a></li>
<li class="chapter" data-level="3.3.3" data-path="nested-resampling.html"><a href="nested-resampling.html#nested-final-model"><i class="fa fa-check"></i><b>3.3.3</b> Final Model</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="hyperband.html"><a href="hyperband.html"><i class="fa fa-check"></i><b>3.4</b> Tuning with Hyperband</a></li>
<li class="chapter" data-level="3.5" data-path="fs.html"><a href="fs.html"><i class="fa fa-check"></i><b>3.5</b> Feature Selection / Filtering</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="fs.html"><a href="fs.html#fs-filter"><i class="fa fa-check"></i><b>3.5.1</b> Filters</a></li>
<li class="chapter" data-level="3.5.2" data-path="fs.html"><a href="fs.html#fs-calc"><i class="fa fa-check"></i><b>3.5.2</b> Calculating filter values</a></li>
<li class="chapter" data-level="3.5.3" data-path="fs.html"><a href="fs.html#fs-var-imp-filters"><i class="fa fa-check"></i><b>3.5.3</b> Variable Importance Filters</a></li>
<li class="chapter" data-level="3.5.4" data-path="fs.html"><a href="fs.html#fs-wrapper"><i class="fa fa-check"></i><b>3.5.4</b> Wrapper Methods</a></li>
<li class="chapter" data-level="3.5.5" data-path="fs.html"><a href="fs.html#fs-wrapper-optimization"><i class="fa fa-check"></i><b>3.5.5</b> The <code>FSelectInstance</code> Classes</a></li>
<li class="chapter" data-level="3.5.6" data-path="fs.html"><a href="fs.html#the-fselector-class"><i class="fa fa-check"></i><b>3.5.6</b> The <code>FSelector</code> Class</a></li>
<li class="chapter" data-level="3.5.7" data-path="fs.html"><a href="fs.html#wrapper-selection-triggering"><i class="fa fa-check"></i><b>3.5.7</b> Triggering the Tuning</a></li>
<li class="chapter" data-level="3.5.8" data-path="fs.html"><a href="fs.html#autofselect"><i class="fa fa-check"></i><b>3.5.8</b> Automating the Feature Selection</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="pipelines.html"><a href="pipelines.html"><i class="fa fa-check"></i><b>4</b> Pipelines</a>
<ul>
<li class="chapter" data-level="4.1" data-path="pipe-pipeops.html"><a href="pipe-pipeops.html"><i class="fa fa-check"></i><b>4.1</b> The Building Blocks: PipeOps</a></li>
<li class="chapter" data-level="4.2" data-path="pipe-operator.html"><a href="pipe-operator.html"><i class="fa fa-check"></i><b>4.2</b> The Pipeline Operator: <code>%&gt;&gt;%</code></a></li>
<li class="chapter" data-level="4.3" data-path="pipe-nodes-edges-graphs.html"><a href="pipe-nodes-edges-graphs.html"><i class="fa fa-check"></i><b>4.3</b> Nodes, Edges and Graphs</a></li>
<li class="chapter" data-level="4.4" data-path="pipe-modeling.html"><a href="pipe-modeling.html"><i class="fa fa-check"></i><b>4.4</b> Modeling</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="pipe-modeling.html"><a href="pipe-modeling.html#pipe-hyperpars"><i class="fa fa-check"></i><b>4.4.1</b> Setting Hyperparameters</a></li>
<li class="chapter" data-level="4.4.2" data-path="pipe-modeling.html"><a href="pipe-modeling.html#pipe-tuning"><i class="fa fa-check"></i><b>4.4.2</b> Tuning</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html"><i class="fa fa-check"></i><b>4.5</b> Non-Linear Graphs</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#pipe-model-ensembles-branching-copying"><i class="fa fa-check"></i><b>4.5.1</b> Branching &amp; Copying</a></li>
<li class="chapter" data-level="4.5.2" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#pipe-model-ensembles"><i class="fa fa-check"></i><b>4.5.2</b> Model Ensembles</a>
<ul>
<li class="chapter" data-level="4.5.2.1" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#pipe-model-ensembles-bagging"><i class="fa fa-check"></i><b>4.5.2.1</b> Bagging</a></li>
<li class="chapter" data-level="4.5.2.2" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#pipe-model-ensembles-stacking"><i class="fa fa-check"></i><b>4.5.2.2</b> Stacking</a></li>
<li class="chapter" data-level="4.5.2.3" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#multilevel-stacking"><i class="fa fa-check"></i><b>4.5.2.3</b> Multilevel Stacking</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html"><i class="fa fa-check"></i><b>4.6</b> Special Operators</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html#imputation-pipeopimpute"><i class="fa fa-check"></i><b>4.6.1</b> Imputation: <code>PipeOpImpute</code></a></li>
<li class="chapter" data-level="4.6.2" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html#feature-engineering-pipeopmutate"><i class="fa fa-check"></i><b>4.6.2</b> Feature Engineering: <code>PipeOpMutate</code></a></li>
<li class="chapter" data-level="4.6.3" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html#training-on-data-subsets-pipeopchunk"><i class="fa fa-check"></i><b>4.6.3</b> Training on data subsets: <code>PipeOpChunk</code></a></li>
<li class="chapter" data-level="4.6.4" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html#feature-selection-pipeopfilter-and-pipeopselect"><i class="fa fa-check"></i><b>4.6.4</b> Feature Selection: <code>PipeOpFilter</code> and <code>PipeOpSelect</code></a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html"><i class="fa fa-check"></i><b>4.7</b> In-depth look into mlr3pipelines</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#whats-the-point"><i class="fa fa-check"></i><b>4.7.1</b> What’s the Point</a></li>
<li class="chapter" data-level="4.7.2" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#pipeop-pipeline-operators"><i class="fa fa-check"></i><b>4.7.2</b> <code>PipeOp</code>: Pipeline Operators</a>
<ul>
<li class="chapter" data-level="4.7.2.1" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#why-the-state"><i class="fa fa-check"></i><b>4.7.2.1</b> Why the <code>$state</code></a></li>
<li class="chapter" data-level="4.7.2.2" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#where-to-get-pipeops"><i class="fa fa-check"></i><b>4.7.2.2</b> Where to Get <code>PipeOp</code>s</a></li>
</ul></li>
<li class="chapter" data-level="4.7.3" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#pipeop-channels"><i class="fa fa-check"></i><b>4.7.3</b> PipeOp Channels</a>
<ul>
<li class="chapter" data-level="4.7.3.1" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#input-channels"><i class="fa fa-check"></i><b>4.7.3.1</b> Input Channels</a></li>
<li class="chapter" data-level="4.7.3.2" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#output-channels"><i class="fa fa-check"></i><b>4.7.3.2</b> Output Channels</a></li>
<li class="chapter" data-level="4.7.3.3" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#channel-configuration"><i class="fa fa-check"></i><b>4.7.3.3</b> Channel Configuration</a></li>
</ul></li>
<li class="chapter" data-level="4.7.4" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#graph-networks-of-pipeops"><i class="fa fa-check"></i><b>4.7.4</b> <code>Graph</code>: Networks of <code>PipeOp</code>s</a>
<ul>
<li class="chapter" data-level="4.7.4.1" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#basics-1"><i class="fa fa-check"></i><b>4.7.4.1</b> Basics</a></li>
<li class="chapter" data-level="4.7.4.2" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#networks"><i class="fa fa-check"></i><b>4.7.4.2</b> Networks</a></li>
<li class="chapter" data-level="4.7.4.3" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#syntactic-sugar"><i class="fa fa-check"></i><b>4.7.4.3</b> Syntactic Sugar</a></li>
<li class="chapter" data-level="4.7.4.4" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#pipeop-ids-and-id-name-clashes"><i class="fa fa-check"></i><b>4.7.4.4</b> <code>PipeOp</code> IDs and ID Name Clashes</a></li>
</ul></li>
<li class="chapter" data-level="4.7.5" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#learners-in-graphs-graphs-in-learners"><i class="fa fa-check"></i><b>4.7.5</b> Learners in Graphs, Graphs in Learners</a>
<ul>
<li class="chapter" data-level="4.7.5.1" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#pipeoplearner"><i class="fa fa-check"></i><b>4.7.5.1</b> <code>PipeOpLearner</code></a></li>
<li class="chapter" data-level="4.7.5.2" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#graphlearner"><i class="fa fa-check"></i><b>4.7.5.2</b> <code>GraphLearner</code></a></li>
</ul></li>
<li class="chapter" data-level="4.7.6" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#hyperparameters"><i class="fa fa-check"></i><b>4.7.6</b> Hyperparameters</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="technical.html"><a href="technical.html"><i class="fa fa-check"></i><b>5</b> Technical</a>
<ul>
<li class="chapter" data-level="5.1" data-path="parallelization.html"><a href="parallelization.html"><i class="fa fa-check"></i><b>5.1</b> Parallelization</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="parallelization.html"><a href="parallelization.html#implicit-parallelization"><i class="fa fa-check"></i><b>5.1.1</b> Implicit Parallelization</a></li>
<li class="chapter" data-level="5.1.2" data-path="parallelization.html"><a href="parallelization.html#explicit-parallelization"><i class="fa fa-check"></i><b>5.1.2</b> Explicit Parallelization</a></li>
<li class="chapter" data-level="5.1.3" data-path="parallelization.html"><a href="parallelization.html#nested-resampling-parallelization"><i class="fa fa-check"></i><b>5.1.3</b> Nested Resampling Parallelization</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="error-handling.html"><a href="error-handling.html"><i class="fa fa-check"></i><b>5.2</b> Error Handling</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="error-handling.html"><a href="error-handling.html#encapsulation"><i class="fa fa-check"></i><b>5.2.1</b> Encapsulation</a></li>
<li class="chapter" data-level="5.2.2" data-path="error-handling.html"><a href="error-handling.html#fallback-learners"><i class="fa fa-check"></i><b>5.2.2</b> Fallback learners</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="backends.html"><a href="backends.html"><i class="fa fa-check"></i><b>5.3</b> Database Backends</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="backends.html"><a href="backends.html#use-case-nyc-flights"><i class="fa fa-check"></i><b>5.3.1</b> Use Case: NYC Flights</a></li>
<li class="chapter" data-level="5.3.2" data-path="backends.html"><a href="backends.html#preprocessing-with-dplyr"><i class="fa fa-check"></i><b>5.3.2</b> Preprocessing with <code>dplyr</code></a></li>
<li class="chapter" data-level="5.3.3" data-path="backends.html"><a href="backends.html#databackenddplyr"><i class="fa fa-check"></i><b>5.3.3</b> DataBackendDplyr</a></li>
<li class="chapter" data-level="5.3.4" data-path="backends.html"><a href="backends.html#model-fitting"><i class="fa fa-check"></i><b>5.3.4</b> Model fitting</a></li>
<li class="chapter" data-level="5.3.5" data-path="backends.html"><a href="backends.html#cleanup"><i class="fa fa-check"></i><b>5.3.5</b> Cleanup</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="paradox.html"><a href="paradox.html"><i class="fa fa-check"></i><b>5.4</b> Parameters (using <code>paradox</code>)</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="paradox.html"><a href="paradox.html#reference-based-objects"><i class="fa fa-check"></i><b>5.4.1</b> Reference Based Objects</a></li>
<li class="chapter" data-level="5.4.2" data-path="paradox.html"><a href="paradox.html#defining-a-parameter-space"><i class="fa fa-check"></i><b>5.4.2</b> Defining a Parameter Space</a>
<ul>
<li class="chapter" data-level="5.4.2.1" data-path="paradox.html"><a href="paradox.html#single-parameters"><i class="fa fa-check"></i><b>5.4.2.1</b> Single Parameters</a></li>
<li class="chapter" data-level="5.4.2.2" data-path="paradox.html"><a href="paradox.html#parameter-sets"><i class="fa fa-check"></i><b>5.4.2.2</b> Parameter Sets</a></li>
<li class="chapter" data-level="5.4.2.3" data-path="paradox.html"><a href="paradox.html#vector-parameters"><i class="fa fa-check"></i><b>5.4.2.3</b> Vector Parameters</a></li>
</ul></li>
<li class="chapter" data-level="5.4.3" data-path="paradox.html"><a href="paradox.html#parameter-sampling"><i class="fa fa-check"></i><b>5.4.3</b> Parameter Sampling</a>
<ul>
<li class="chapter" data-level="5.4.3.1" data-path="paradox.html"><a href="paradox.html#parameter-designs"><i class="fa fa-check"></i><b>5.4.3.1</b> Parameter Designs</a></li>
<li class="chapter" data-level="5.4.3.2" data-path="paradox.html"><a href="paradox.html#grid-design"><i class="fa fa-check"></i><b>5.4.3.2</b> Grid Design</a></li>
<li class="chapter" data-level="5.4.3.3" data-path="paradox.html"><a href="paradox.html#random-sampling"><i class="fa fa-check"></i><b>5.4.3.3</b> Random Sampling</a></li>
<li class="chapter" data-level="5.4.3.4" data-path="paradox.html"><a href="paradox.html#generalized-sampling-the-sampler-class"><i class="fa fa-check"></i><b>5.4.3.4</b> Generalized Sampling: The <code>Sampler</code> Class</a></li>
</ul></li>
<li class="chapter" data-level="5.4.4" data-path="paradox.html"><a href="paradox.html#parameter-transformation"><i class="fa fa-check"></i><b>5.4.4</b> Parameter Transformation</a>
<ul>
<li class="chapter" data-level="5.4.4.1" data-path="paradox.html"><a href="paradox.html#transformation-between-types"><i class="fa fa-check"></i><b>5.4.4.1</b> Transformation between Types</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="logging.html"><a href="logging.html"><i class="fa fa-check"></i><b>5.5</b> Logging</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="logging.html"><a href="logging.html#changing-mlr3-logging-levels"><i class="fa fa-check"></i><b>5.5.1</b> Changing mlr3 logging levels</a></li>
<li class="chapter" data-level="5.5.2" data-path="logging.html"><a href="logging.html#redirecting-output"><i class="fa fa-check"></i><b>5.5.2</b> Redirecting output</a></li>
<li class="chapter" data-level="5.5.3" data-path="logging.html"><a href="logging.html#immediate-log-feedback"><i class="fa fa-check"></i><b>5.5.3</b> Immediate Log Feedback</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="extending.html"><a href="extending.html"><i class="fa fa-check"></i><b>6</b> Extending</a>
<ul>
<li class="chapter" data-level="6.1" data-path="extending-learners.html"><a href="extending-learners.html"><i class="fa fa-check"></i><b>6.1</b> Adding new Learners</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="extending-learners.html"><a href="extending-learners.html#setup"><i class="fa fa-check"></i><b>6.1.1</b> Setting-up mlr3extralearners</a></li>
<li class="chapter" data-level="6.1.2" data-path="extending-learners.html"><a href="extending-learners.html#create-learner"><i class="fa fa-check"></i><b>6.1.2</b> Calling create_learner</a></li>
<li class="chapter" data-level="6.1.3" data-path="extending-learners.html"><a href="extending-learners.html#learner_package_type_key.r"><i class="fa fa-check"></i><b>6.1.3</b> learner_package_type_key.R</a></li>
<li class="chapter" data-level="6.1.4" data-path="extending-learners.html"><a href="extending-learners.html#learner-meta-information"><i class="fa fa-check"></i><b>6.1.4</b> Meta-information</a></li>
<li class="chapter" data-level="6.1.5" data-path="extending-learners.html"><a href="extending-learners.html#param-set"><i class="fa fa-check"></i><b>6.1.5</b> ParamSet</a></li>
<li class="chapter" data-level="6.1.6" data-path="extending-learners.html"><a href="extending-learners.html#learner-train"><i class="fa fa-check"></i><b>6.1.6</b> Train function</a></li>
<li class="chapter" data-level="6.1.7" data-path="extending-learners.html"><a href="extending-learners.html#learner-predict"><i class="fa fa-check"></i><b>6.1.7</b> Predict function</a></li>
<li class="chapter" data-level="6.1.8" data-path="extending-learners.html"><a href="extending-learners.html#learner-control"><i class="fa fa-check"></i><b>6.1.8</b> Control objects/functions of learners</a></li>
<li class="chapter" data-level="6.1.9" data-path="extending-learners.html"><a href="extending-learners.html#learner-test"><i class="fa fa-check"></i><b>6.1.9</b> Testing the learner</a>
<ul>
<li class="chapter" data-level="6.1.9.1" data-path="extending-learners.html"><a href="extending-learners.html#learner-test-manual"><i class="fa fa-check"></i><b>6.1.9.1</b> Train and Predict</a></li>
<li class="chapter" data-level="6.1.9.2" data-path="extending-learners.html"><a href="extending-learners.html#learner-test-unit"><i class="fa fa-check"></i><b>6.1.9.2</b> Autotest</a></li>
<li class="chapter" data-level="6.1.9.3" data-path="extending-learners.html"><a href="extending-learners.html#learner-test-parameter"><i class="fa fa-check"></i><b>6.1.9.3</b> Checking Parameters</a></li>
</ul></li>
<li class="chapter" data-level="6.1.10" data-path="extending-learners.html"><a href="extending-learners.html#cleaning"><i class="fa fa-check"></i><b>6.1.10</b> Package Cleaning</a></li>
<li class="chapter" data-level="6.1.11" data-path="extending-learners.html"><a href="extending-learners.html#thanks-and-maintenance"><i class="fa fa-check"></i><b>6.1.11</b> Thanks and Maintenance</a></li>
<li class="chapter" data-level="6.1.12" data-path="extending-learners.html"><a href="extending-learners.html#learner-faq"><i class="fa fa-check"></i><b>6.1.12</b> Learner FAQ</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="extending-measures.html"><a href="extending-measures.html"><i class="fa fa-check"></i><b>6.2</b> Adding new Measures</a></li>
<li class="chapter" data-level="6.3" data-path="extending-pipeops.html"><a href="extending-pipeops.html"><i class="fa fa-check"></i><b>6.3</b> Adding new PipeOps</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="extending-pipeops.html"><a href="extending-pipeops.html#ext-pipeopcopy"><i class="fa fa-check"></i><b>6.3.1</b> General Case Example: <code>PipeOpCopy</code></a>
<ul>
<li class="chapter" data-level="6.3.1.1" data-path="extending-pipeops.html"><a href="extending-pipeops.html#first-steps-inheriting-from-pipeop"><i class="fa fa-check"></i><b>6.3.1.1</b> First Steps: Inheriting from <code>PipeOp</code></a></li>
<li class="chapter" data-level="6.3.1.2" data-path="extending-pipeops.html"><a href="extending-pipeops.html#channel-definitions"><i class="fa fa-check"></i><b>6.3.1.2</b> Channel Definitions</a></li>
<li class="chapter" data-level="6.3.1.3" data-path="extending-pipeops.html"><a href="extending-pipeops.html#train-and-predict"><i class="fa fa-check"></i><b>6.3.1.3</b> Train and Predict</a></li>
<li class="chapter" data-level="6.3.1.4" data-path="extending-pipeops.html"><a href="extending-pipeops.html#putting-it-together"><i class="fa fa-check"></i><b>6.3.1.4</b> Putting it Together</a></li>
</ul></li>
<li class="chapter" data-level="6.3.2" data-path="extending-pipeops.html"><a href="extending-pipeops.html#ext-pipe-preproc"><i class="fa fa-check"></i><b>6.3.2</b> Special Case: Preprocessing</a>
<ul>
<li class="chapter" data-level="6.3.2.1" data-path="extending-pipeops.html"><a href="extending-pipeops.html#example-pipeopdropna"><i class="fa fa-check"></i><b>6.3.2.1</b> Example: <code>PipeOpDropNA</code></a></li>
<li class="chapter" data-level="6.3.2.2" data-path="extending-pipeops.html"><a href="extending-pipeops.html#example-pipeopscalealways"><i class="fa fa-check"></i><b>6.3.2.2</b> Example: <code>PipeOpScaleAlways</code></a></li>
</ul></li>
<li class="chapter" data-level="6.3.3" data-path="extending-pipeops.html"><a href="extending-pipeops.html#special-case-preprocessing-with-simple-train"><i class="fa fa-check"></i><b>6.3.3</b> Special Case: Preprocessing with Simple Train</a>
<ul>
<li class="chapter" data-level="6.3.3.1" data-path="extending-pipeops.html"><a href="extending-pipeops.html#example-pipeopdropconst"><i class="fa fa-check"></i><b>6.3.3.1</b> Example: <code>PipeOpDropConst</code></a></li>
<li class="chapter" data-level="6.3.3.2" data-path="extending-pipeops.html"><a href="extending-pipeops.html#example-pipeopscalealwayssimple"><i class="fa fa-check"></i><b>6.3.3.2</b> Example: <code>PipeOpScaleAlwaysSimple</code></a></li>
</ul></li>
<li class="chapter" data-level="6.3.4" data-path="extending-pipeops.html"><a href="extending-pipeops.html#ext-pipe-hyperpars"><i class="fa fa-check"></i><b>6.3.4</b> Hyperparameters</a>
<ul>
<li class="chapter" data-level="6.3.4.1" data-path="extending-pipeops.html"><a href="extending-pipeops.html#hyperparameter-example-pipeopscale"><i class="fa fa-check"></i><b>6.3.4.1</b> Hyperparameter Example: <code>PipeOpScale</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="extending-tuners.html"><a href="extending-tuners.html"><i class="fa fa-check"></i><b>6.4</b> Adding new Tuners</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="extending-tuners.html"><a href="extending-tuners.html#extending-tuners-summary"><i class="fa fa-check"></i><b>6.4.1</b> Adding a new Tuner</a></li>
<li class="chapter" data-level="6.4.2" data-path="extending-tuners.html"><a href="extending-tuners.html#tuner-template"><i class="fa fa-check"></i><b>6.4.2</b> Template</a></li>
<li class="chapter" data-level="6.4.3" data-path="extending-tuners.html"><a href="extending-tuners.html#tuner-optimize"><i class="fa fa-check"></i><b>6.4.3</b> Optimize method</a>
<ul>
<li class="chapter" data-level="6.4.3.1" data-path="extending-tuners.html"><a href="extending-tuners.html#writing-a-custom-iteration"><i class="fa fa-check"></i><b>6.4.3.1</b> Writing a custom iteration</a></li>
<li class="chapter" data-level="6.4.3.2" data-path="extending-tuners.html"><a href="extending-tuners.html#calling-an-external-optimization-function"><i class="fa fa-check"></i><b>6.4.3.2</b> Calling an external optimization function</a></li>
</ul></li>
<li class="chapter" data-level="6.4.4" data-path="extending-tuners.html"><a href="extending-tuners.html#tuner-add-result"><i class="fa fa-check"></i><b>6.4.4</b> Assign result method</a></li>
<li class="chapter" data-level="6.4.5" data-path="extending-tuners.html"><a href="extending-tuners.html#tuner-from-optimizer"><i class="fa fa-check"></i><b>6.4.5</b> Transform optimizer to tuner</a></li>
<li class="chapter" data-level="6.4.6" data-path="extending-tuners.html"><a href="extending-tuners.html#tuner-test"><i class="fa fa-check"></i><b>6.4.6</b> Add unit tests</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="special-tasks.html"><a href="special-tasks.html"><i class="fa fa-check"></i><b>7</b> Special Tasks</a>
<ul>
<li class="chapter" data-level="7.1" data-path="survival.html"><a href="survival.html"><i class="fa fa-check"></i><b>7.1</b> Survival Analysis</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="survival.html"><a href="survival.html#tasksurv"><i class="fa fa-check"></i><b>7.1.1</b> TaskSurv</a></li>
<li class="chapter" data-level="7.1.2" data-path="survival.html"><a href="survival.html#predict-types---crank-lp-and-distr"><i class="fa fa-check"></i><b>7.1.2</b> Predict Types - crank, lp, and distr</a></li>
<li class="chapter" data-level="7.1.3" data-path="survival.html"><a href="survival.html#composition"><i class="fa fa-check"></i><b>7.1.3</b> Composition</a></li>
<li class="chapter" data-level="7.1.4" data-path="survival.html"><a href="survival.html#benchmark-experiment"><i class="fa fa-check"></i><b>7.1.4</b> Benchmark Experiment</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="density.html"><a href="density.html"><i class="fa fa-check"></i><b>7.2</b> Density Estimation</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="density.html"><a href="density.html#train-and-predict-1"><i class="fa fa-check"></i><b>7.2.1</b> Train and Predict</a></li>
<li class="chapter" data-level="7.2.2" data-path="density.html"><a href="density.html#benchmark-experiment-1"><i class="fa fa-check"></i><b>7.2.2</b> Benchmark Experiment</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="spatiotemporal.html"><a href="spatiotemporal.html"><i class="fa fa-check"></i><b>7.3</b> Spatiotemporal Analysis</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="spatiotemporal.html"><a href="spatiotemporal.html#creating-a-spatial-task"><i class="fa fa-check"></i><b>7.3.1</b> Creating a spatial Task</a></li>
<li class="chapter" data-level="7.3.2" data-path="spatiotemporal.html"><a href="spatiotemporal.html#spatiotemporal-intro"><i class="fa fa-check"></i><b>7.3.2</b> Autocorrelation</a></li>
<li class="chapter" data-level="7.3.3" data-path="spatiotemporal.html"><a href="spatiotemporal.html#sp-vs-nsp-cv"><i class="fa fa-check"></i><b>7.3.3</b> Spatial CV vs. Non-Spatial CV</a>
<ul>
<li class="chapter" data-level="7.3.3.1" data-path="spatiotemporal.html"><a href="spatiotemporal.html#nsp-cv"><i class="fa fa-check"></i><b>7.3.3.1</b> Non-Spatial CV</a></li>
<li class="chapter" data-level="7.3.3.2" data-path="spatiotemporal.html"><a href="spatiotemporal.html#sp-cv"><i class="fa fa-check"></i><b>7.3.3.2</b> Spatial CV</a></li>
</ul></li>
<li class="chapter" data-level="7.3.4" data-path="spatiotemporal.html"><a href="spatiotemporal.html#vis-spt-partitions"><i class="fa fa-check"></i><b>7.3.4</b> Visualization of Spatiotemporal Partitions</a></li>
<li class="chapter" data-level="7.3.5" data-path="spatiotemporal.html"><a href="spatiotemporal.html#vis-spatial-block"><i class="fa fa-check"></i><b>7.3.5</b> Spatial Block Visualization</a></li>
<li class="chapter" data-level="7.3.6" data-path="spatiotemporal.html"><a href="spatiotemporal.html#choose-spt-rsmp"><i class="fa fa-check"></i><b>7.3.6</b> Choosing a Resampling Method</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="ordinal.html"><a href="ordinal.html"><i class="fa fa-check"></i><b>7.4</b> Ordinal Analysis</a></li>
<li class="chapter" data-level="7.5" data-path="functional.html"><a href="functional.html"><i class="fa fa-check"></i><b>7.5</b> Functional Analysis</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="functional.html"><a href="functional.html#how-to-model-functional-data"><i class="fa fa-check"></i><b>7.5.1</b> How to model functional data?</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="multilabel.html"><a href="multilabel.html"><i class="fa fa-check"></i><b>7.6</b> Multilabel Classification</a></li>
<li class="chapter" data-level="7.7" data-path="cost-sens.html"><a href="cost-sens.html"><i class="fa fa-check"></i><b>7.7</b> Cost-Sensitive Classification</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="cost-sens.html"><a href="cost-sens.html#a-first-model"><i class="fa fa-check"></i><b>7.7.1</b> A First Model</a></li>
<li class="chapter" data-level="7.7.2" data-path="cost-sens.html"><a href="cost-sens.html#cost-sensitive-measure"><i class="fa fa-check"></i><b>7.7.2</b> Cost-sensitive Measure</a></li>
<li class="chapter" data-level="7.7.3" data-path="cost-sens.html"><a href="cost-sens.html#thresholding"><i class="fa fa-check"></i><b>7.7.3</b> Thresholding</a></li>
<li class="chapter" data-level="7.7.4" data-path="cost-sens.html"><a href="cost-sens.html#threshold-tuning-1"><i class="fa fa-check"></i><b>7.7.4</b> Threshold Tuning</a></li>
<li class="chapter" data-level="7.7.5" data-path="cost-sens.html"><a href="cost-sens.html#adjusting-thresholds-two-strategies"><i class="fa fa-check"></i><b>7.7.5</b> Adjusting thresholds: Two strategies</a></li>
<li class="chapter" data-level="7.7.6" data-path="cost-sens.html"><a href="cost-sens.html#pipeopthreshold"><i class="fa fa-check"></i><b>7.7.6</b> PipeOpThreshold</a></li>
<li class="chapter" data-level="7.7.7" data-path="cost-sens.html"><a href="cost-sens.html#pipeoptunethreshold"><i class="fa fa-check"></i><b>7.7.7</b> PipeOpTunethreshold</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="interpretation.html"><a href="interpretation.html"><i class="fa fa-check"></i><b>8</b> Model Interpretation</a>
<ul>
<li class="chapter" data-level="8.1" data-path="iml.html"><a href="iml.html"><i class="fa fa-check"></i><b>8.1</b> IML</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="iml.html"><a href="iml.html#penguin-task"><i class="fa fa-check"></i><b>8.1.1</b> Penguin Task</a></li>
<li class="chapter" data-level="8.1.2" data-path="iml.html"><a href="iml.html#featureeffects"><i class="fa fa-check"></i><b>8.1.2</b> FeatureEffects</a></li>
<li class="chapter" data-level="8.1.3" data-path="iml.html"><a href="iml.html#shapley"><i class="fa fa-check"></i><b>8.1.3</b> Shapley</a></li>
<li class="chapter" data-level="8.1.4" data-path="iml.html"><a href="iml.html#featureimp"><i class="fa fa-check"></i><b>8.1.4</b> FeatureImp</a></li>
<li class="chapter" data-level="8.1.5" data-path="iml.html"><a href="iml.html#independent-test-data"><i class="fa fa-check"></i><b>8.1.5</b> Independent Test Data</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="dalex.html"><a href="dalex.html"><i class="fa fa-check"></i><b>8.2</b> DALEX</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="dalex.html"><a href="dalex.html#interpretability-dalex-introduction"><i class="fa fa-check"></i><b>8.2.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2.2" data-path="dalex.html"><a href="dalex.html#interpretability-data-fifa"><i class="fa fa-check"></i><b>8.2.2</b> Read data: FIFA</a></li>
<li class="chapter" data-level="8.2.3" data-path="dalex.html"><a href="dalex.html#interpretability-train-ranger"><i class="fa fa-check"></i><b>8.2.3</b> Train a model: Ranger</a></li>
<li class="chapter" data-level="8.2.4" data-path="dalex.html"><a href="dalex.html#interpretability-architecture"><i class="fa fa-check"></i><b>8.2.4</b> The general workflow</a></li>
<li class="chapter" data-level="8.2.5" data-path="dalex.html"><a href="dalex.html#interpretability-dataset-level"><i class="fa fa-check"></i><b>8.2.5</b> Dataset level exploration</a></li>
<li class="chapter" data-level="8.2.6" data-path="dalex.html"><a href="dalex.html#interpretability-instance-level"><i class="fa fa-check"></i><b>8.2.6</b> Instance level explanation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>9</b> Appendix</a>
<ul>
<li class="chapter" data-level="9.1" data-path="list-learners.html"><a href="list-learners.html"><i class="fa fa-check"></i><b>9.1</b> Integrated Learners</a></li>
<li class="chapter" data-level="9.2" data-path="list-measures.html"><a href="list-measures.html"><i class="fa fa-check"></i><b>9.2</b> Integrated Performance Measures</a></li>
<li class="chapter" data-level="9.3" data-path="list-filters.html"><a href="list-filters.html"><i class="fa fa-check"></i><b>9.3</b> Integrated Filter Methods</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="list-filters.html"><a href="list-filters.html#fs-filter-list"><i class="fa fa-check"></i><b>9.3.1</b> Standalone filter methods</a></li>
<li class="chapter" data-level="9.3.2" data-path="list-filters.html"><a href="list-filters.html#fs-filter-embedded-list"><i class="fa fa-check"></i><b>9.3.2</b> Learners With Embedded Filter Methods</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="list-pipeops.html"><a href="list-pipeops.html"><i class="fa fa-check"></i><b>9.4</b> Integrated Pipe Operators</a></li>
<li class="chapter" data-level="9.5" data-path="compare-frameworks.html"><a href="compare-frameworks.html"><i class="fa fa-check"></i><b>9.5</b> Framework Comparison</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="compare-frameworks.html"><a href="compare-frameworks.html#an-introduction-to-pipeops"><i class="fa fa-check"></i><b>9.5.1</b> An introduction to “PipeOp”s</a>
<ul>
<li class="chapter" data-level="9.5.1.1" data-path="compare-frameworks.html"><a href="compare-frameworks.html#a-quick-glance-into-a-pipeop"><i class="fa fa-check"></i><b>9.5.1.1</b> A quick glance into a PipeOp</a></li>
<li class="chapter" data-level="9.5.1.2" data-path="compare-frameworks.html"><a href="compare-frameworks.html#constructing-the-pipeline"><i class="fa fa-check"></i><b>9.5.1.2</b> Constructing the Pipeline</a></li>
</ul></li>
<li class="chapter" data-level="9.5.2" data-path="compare-frameworks.html"><a href="compare-frameworks.html#mlr3pipelines-vs.-mlr"><i class="fa fa-check"></i><b>9.5.2</b> mlr3pipelines vs. mlr</a>
<ul>
<li class="chapter" data-level="9.5.2.1" data-path="compare-frameworks.html"><a href="compare-frameworks.html#mlr"><i class="fa fa-check"></i><b>9.5.2.1</b> mlr</a></li>
<li class="chapter" data-level="9.5.2.2" data-path="compare-frameworks.html"><a href="compare-frameworks.html#mlr3pipelines"><i class="fa fa-check"></i><b>9.5.2.2</b> mlr3pipelines</a></li>
</ul></li>
<li class="chapter" data-level="9.5.3" data-path="compare-frameworks.html"><a href="compare-frameworks.html#mlr3pipelines-vs.-sklearn.pipeline.pipeline"><i class="fa fa-check"></i><b>9.5.3</b> mlr3pipelines vs. sklearn.pipeline.Pipeline</a>
<ul>
<li class="chapter" data-level="9.5.3.1" data-path="compare-frameworks.html"><a href="compare-frameworks.html#sklearn"><i class="fa fa-check"></i><b>9.5.3.1</b> sklearn</a></li>
<li class="chapter" data-level="9.5.3.2" data-path="compare-frameworks.html"><a href="compare-frameworks.html#mlr3pipelines-1"><i class="fa fa-check"></i><b>9.5.3.2</b> mlr3pipelines</a></li>
</ul></li>
<li class="chapter" data-level="9.5.4" data-path="compare-frameworks.html"><a href="compare-frameworks.html#mlr3pipelines-vs-recipes"><i class="fa fa-check"></i><b>9.5.4</b> mlr3pipelines vs recipes</a>
<ul>
<li class="chapter" data-level="9.5.4.1" data-path="compare-frameworks.html"><a href="compare-frameworks.html#recipes"><i class="fa fa-check"></i><b>9.5.4.1</b> recipes</a></li>
<li class="chapter" data-level="9.5.4.2" data-path="compare-frameworks.html"><a href="compare-frameworks.html#mlr3pipelines-2"><i class="fa fa-check"></i><b>9.5.4.2</b> mlr3pipelines</a></li>
</ul></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">mlr3 book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="searchspace" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Tuning Search Spaces</h2>
<p>When running an optimization, it is important to inform the tuning algorithm about what hyperparameters are valid.
Here the names, types, and valid ranges of each hyperparameter are important.
All this information is communicated with objects of the class <a href="https://paradox.mlr-org.com/reference/ParamSet.html"><code>ParamSet</code></a>, which is defined in <a href="https://paradox.mlr-org.com">paradox</a>.
While it is possible to create <a href="https://paradox.mlr-org.com/reference/ParamSet.html"><code>ParamSet</code></a>-objects using its <code>$new</code>-constructor, it is much shorter and readable to use the <a href="https://paradox.mlr-org.com/reference/ps.html"><code>ps</code></a>-shortcut, which will be presented here.
For an in-depth description of <a href="https://paradox.mlr-org.com">paradox</a> and its classes, see the <a href="paradox.html#paradox"><code>paradox</code> chapter</a>.</p>
<p>Note, that <a href="https://paradox.mlr-org.com/reference/ParamSet.html"><code>ParamSet</code></a> objects exist in two contexts.
First, <a href="https://paradox.mlr-org.com/reference/ParamSet.html"><code>ParamSet</code></a>-objects are used to define the space of valid parameter setting for a learner (and other objects).
Second, they are used to define a search space for tuning.
We are mainly interested in the latter.
For an example we can consider the <code>minsplit</code> parameter of the <a href="https://mlr3.mlr-org.com/reference/mlr_learners_classif.rpart.html"><code>classif.rpart Learner</code></a>.
The <a href="https://paradox.mlr-org.com/reference/ParamSet.html"><code>ParamSet</code></a> associated with the learner has a lower but <em>no</em> upper bound.
However, for tuning the value, a lower <em>and</em> upper bound must be given because tuning search spaces need to be bounded.
For <a href="https://mlr3.mlr-org.com/reference/Learner.html"><code>Learner</code></a> or <a href="https://mlr3pipelines.mlr-org.com/reference/PipeOp.html"><code>PipeOp</code></a> objects, typically “unbounded” <a href="https://paradox.mlr-org.com/reference/ParamSet.html"><code>ParamSets</code></a> are used.
Here, however, we will mainly focus on creating “bounded” <a href="https://paradox.mlr-org.com/reference/ParamSet.html"><code>ParamSets</code></a> that can be used for tuning.
See the <a href="paradox.html#paradox">in-depth <code>paradox</code> chapter</a> for more details on using <a href="https://paradox.mlr-org.com/reference/ParamSet.html"><code>ParamSets</code></a> to define parameter ranges for use-cases besides tuning.</p>
<div id="creating-paramsets" class="section level3" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Creating <code>ParamSet</code>s</h3>
<p>An empty <a href="https://paradox.mlr-org.com/reference/ParamSet.html"><code>ParamSet</code></a> – not yet very useful – can be constructed using just the <a href="https://paradox.mlr-org.com/reference/ps.html"><code>ps</code></a> call:</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="searchspace.html#cb220-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;mlr3verse&quot;</span>)</span>
<span id="cb220-2"><a href="searchspace.html#cb220-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb220-3"><a href="searchspace.html#cb220-3" aria-hidden="true" tabindex="-1"></a>search_space <span class="ot">=</span> <span class="fu">ps</span>()</span>
<span id="cb220-4"><a href="searchspace.html#cb220-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(search_space)</span></code></pre></div>
<pre><code>## &lt;ParamSet&gt;
## Empty.</code></pre>
<p><a href="https://paradox.mlr-org.com/reference/ps.html"><code>ps</code></a> takes named <a href="https://paradox.mlr-org.com/reference/Domain.html"><code>Domain</code></a> arguments that are turned into parameters. A possible search space for the <code>"classif.svm"</code> learner could for example be:</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="searchspace.html#cb222-1" aria-hidden="true" tabindex="-1"></a>search_space <span class="ot">=</span> <span class="fu">ps</span>(</span>
<span id="cb222-2"><a href="searchspace.html#cb222-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">cost =</span> <span class="fu">p_dbl</span>(<span class="at">lower =</span> <span class="fl">0.1</span>, <span class="at">upper =</span> <span class="dv">10</span>),</span>
<span id="cb222-3"><a href="searchspace.html#cb222-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">kernel =</span> <span class="fu">p_fct</span>(<span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;polynomial&quot;</span>, <span class="st">&quot;radial&quot;</span>))</span>
<span id="cb222-4"><a href="searchspace.html#cb222-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb222-5"><a href="searchspace.html#cb222-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(search_space)</span></code></pre></div>
<pre><code>## &lt;ParamSet&gt;
##        id    class lower upper nlevels        default value
## 1:   cost ParamDbl   0.1    10     Inf &lt;NoDefault[3]&gt;      
## 2: kernel ParamFct    NA    NA       2 &lt;NoDefault[3]&gt;</code></pre>
<p>There are five domain constructors that produce a parameters when given to <a href="https://paradox.mlr-org.com/reference/ps.html"><code>ps</code></a>:</p>
<table style="width:100%;">
<colgroup>
<col width="21%" />
<col width="31%" />
<col width="29%" />
<col width="16%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Constructor</th>
<th align="center">Description</th>
<th align="center">Is bounded?</th>
<th align="center">Underlying Class</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><code>p_dbl</code></td>
<td align="center">Real valued parameter (“double”)</td>
<td align="center">When <code>upper</code> and <code>lower</code> are given</td>
<td align="center"><a href="https://paradox.mlr-org.com/reference/ParamDbl.html"><code>ParamDbl</code></a></td>
</tr>
<tr class="even">
<td align="center"><code>p_int</code></td>
<td align="center">Integer parameter</td>
<td align="center">When <code>upper</code> and <code>lower</code> are given</td>
<td align="center"><a href="https://paradox.mlr-org.com/reference/ParamInt.html"><code>ParamInt</code></a></td>
</tr>
<tr class="odd">
<td align="center"><code>p_fct</code></td>
<td align="center">Discrete valued parameter (“factor”)</td>
<td align="center">Always</td>
<td align="center"><a href="https://paradox.mlr-org.com/reference/ParamFct.html"><code>ParamFct</code></a></td>
</tr>
<tr class="even">
<td align="center"><code>p_lgl</code></td>
<td align="center">Logical / Boolean parameter</td>
<td align="center">Always</td>
<td align="center"><a href="https://paradox.mlr-org.com/reference/ParamLgl.html"><code>ParamLgl</code></a></td>
</tr>
<tr class="odd">
<td align="center"><code>p_uty</code></td>
<td align="center">Untyped parameter</td>
<td align="center">Never</td>
<td align="center"><a href="https://paradox.mlr-org.com/reference/ParamUty.html"><code>ParamUty</code></a></td>
</tr>
</tbody>
</table>
<p>These domain constructors each take some of the following arguments:</p>
<ul>
<li><strong><code>lower</code></strong>, <strong><code>upper</code></strong>: lower and upper bound of numerical parameters (<code>p_dbl</code> and <code>p_int</code>). These need to be given to get bounded parameter spaces valid for tuning.</li>
<li><strong><code>levels</code></strong>: Allowed categorical values for <code>p_fct</code> parameters. Required argument for <code>p_fct</code>. See <a href="searchspace.html#autolevel">below</a> for more details on this parameter.</li>
<li><strong><code>trafo</code></strong>: transformation function, see <a href="searchspace.html#searchspace-trafo">below</a>.</li>
<li><strong><code>depends</code></strong>: dependencies, see <a href="searchspace.html#searchspace-depends">below</a>.</li>
<li><strong><code>tags</code></strong>: Further information about a parameter, used for example by the <a href="hyperband.html#hyperband"><code>hyperband</code></a> tuner.</li>
<li><strong><code>default</code></strong>: Value corresponding to default behavior when the parameter is not given. Not used for tuning search spaces.</li>
<li><strong><code>special_vals</code></strong>: Valid values besides the normally accepted values for a parameter. Not used for tuning search spaces.</li>
<li><strong><code>custom_check</code></strong>: Function that checks whether a value given to <code>p_uty</code> is valid. Not used for tuning search spaces.</li>
</ul>
<p>The <code>lower</code>, <code>upper</code>, or <code>levels</code> parameters are always at the first (or second, for <code>upper</code>) position of the respective constructors, so it is preferred to omit them when defining a <a href="https://paradox.mlr-org.com/reference/ParamSet.html"><code>ParamSet</code></a>, for improved conciseness:</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="searchspace.html#cb224-1" aria-hidden="true" tabindex="-1"></a>search_space <span class="ot">=</span> <span class="fu">ps</span>(<span class="at">cost =</span> <span class="fu">p_dbl</span>(<span class="fl">0.1</span>, <span class="dv">10</span>), <span class="at">kernel =</span> <span class="fu">p_fct</span>(<span class="fu">c</span>(<span class="st">&quot;polynomial&quot;</span>, <span class="st">&quot;radial&quot;</span>)))</span></code></pre></div>
</div>
<div id="searchspace-trafo" class="section level3" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Transformations (<code>trafo</code>)</h3>
<p>We can use the <a href="https://paradox.mlr-org.com">paradox</a> function <a href="https://paradox.mlr-org.com/reference/generate_design_grid.html"><code>generate_design_grid</code></a> to look at the values that would be evaluated by grid search.
(We are using <code>rbindlist()</code> here because the result of <code>$transpose()</code> is a list that is harder to read. If we didn’t use <code>$transpose()</code>, on the other hand, the transformations that we investigate here are not applied.)</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="searchspace.html#cb225-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;data.table&quot;</span>)</span>
<span id="cb225-2"><a href="searchspace.html#cb225-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rbindlist</span>(<span class="fu">generate_design_grid</span>(search_space, <span class="dv">3</span>)<span class="sc">$</span><span class="fu">transpose</span>())</span></code></pre></div>
<pre><code>##     cost     kernel
## 1:  0.10 polynomial
## 2:  0.10     radial
## 3:  5.05 polynomial
## 4:  5.05     radial
## 5: 10.00 polynomial
## 6: 10.00     radial</code></pre>
<p>We notice that the <code>cost</code> parameter is taken on a linear scale.
We assume, however, that the difference of cost between <code>0.1</code> and <code>1</code> should have a similar effect as the difference between <code>1</code> and <code>10</code>.
Therefore it makes more sense to tune it on a <em>logarithmic scale</em>.
This is done by using a <strong>transformation</strong> (<code>trafo</code>).
This is a function that is applied to a parameter after it has been sampled by the tuner.
We can tune <code>cost</code> on a logarithmic scale by sampling on the linear scale <code>[-1, 1]</code> and computing <code>10^x</code> from that value.</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="searchspace.html#cb227-1" aria-hidden="true" tabindex="-1"></a>search_space <span class="ot">=</span> <span class="fu">ps</span>(</span>
<span id="cb227-2"><a href="searchspace.html#cb227-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">cost =</span> <span class="fu">p_dbl</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>, <span class="at">trafo =</span> <span class="cf">function</span>(x) <span class="dv">10</span><span class="sc">^</span>x),</span>
<span id="cb227-3"><a href="searchspace.html#cb227-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">kernel =</span> <span class="fu">p_fct</span>(<span class="fu">c</span>(<span class="st">&quot;polynomial&quot;</span>, <span class="st">&quot;radial&quot;</span>))</span>
<span id="cb227-4"><a href="searchspace.html#cb227-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb227-5"><a href="searchspace.html#cb227-5" aria-hidden="true" tabindex="-1"></a><span class="fu">rbindlist</span>(<span class="fu">generate_design_grid</span>(search_space, <span class="dv">3</span>)<span class="sc">$</span><span class="fu">transpose</span>())</span></code></pre></div>
<pre><code>##    cost     kernel
## 1:  0.1 polynomial
## 2:  0.1     radial
## 3:  1.0 polynomial
## 4:  1.0     radial
## 5: 10.0 polynomial
## 6: 10.0     radial</code></pre>
<p>It is even possible to attach another transformation to the <a href="https://paradox.mlr-org.com/reference/ParamSet.html"><code>ParamSet</code></a> as a whole that gets executed after individual parameter’s transformations were performed.
It is given through the <code>.extra_trafo</code> argument and should be a function with parameters <code>x</code> and <code>param_set</code> that takes a list of parameter values in <code>x</code> and returns a modified list.
This transformation can access all parameter values of an evaluation and modify them with interactions.
It is even possible to add or remove parameters.
(The following is a bit of a silly example.)</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="searchspace.html#cb229-1" aria-hidden="true" tabindex="-1"></a>search_space <span class="ot">=</span> <span class="fu">ps</span>(</span>
<span id="cb229-2"><a href="searchspace.html#cb229-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">cost =</span> <span class="fu">p_dbl</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>, <span class="at">trafo =</span> <span class="cf">function</span>(x) <span class="dv">10</span><span class="sc">^</span>x),</span>
<span id="cb229-3"><a href="searchspace.html#cb229-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">kernel =</span> <span class="fu">p_fct</span>(<span class="fu">c</span>(<span class="st">&quot;polynomial&quot;</span>, <span class="st">&quot;radial&quot;</span>)),</span>
<span id="cb229-4"><a href="searchspace.html#cb229-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">.extra_trafo =</span> <span class="cf">function</span>(x, param_set) {</span>
<span id="cb229-5"><a href="searchspace.html#cb229-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (x<span class="sc">$</span>kernel <span class="sc">==</span> <span class="st">&quot;polynomial&quot;</span>) {</span>
<span id="cb229-6"><a href="searchspace.html#cb229-6" aria-hidden="true" tabindex="-1"></a>      x<span class="sc">$</span>cost <span class="ot">=</span> x<span class="sc">$</span>cost <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb229-7"><a href="searchspace.html#cb229-7" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb229-8"><a href="searchspace.html#cb229-8" aria-hidden="true" tabindex="-1"></a>    x</span>
<span id="cb229-9"><a href="searchspace.html#cb229-9" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb229-10"><a href="searchspace.html#cb229-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb229-11"><a href="searchspace.html#cb229-11" aria-hidden="true" tabindex="-1"></a><span class="fu">rbindlist</span>(<span class="fu">generate_design_grid</span>(search_space, <span class="dv">3</span>)<span class="sc">$</span><span class="fu">transpose</span>())</span></code></pre></div>
<pre><code>##    cost     kernel
## 1:  0.2 polynomial
## 2:  0.1     radial
## 3:  2.0 polynomial
## 4:  1.0     radial
## 5: 20.0 polynomial
## 6: 10.0     radial</code></pre>
<p>The available types of search space parameters are limited: continuous, integer, discrete, and logical scalars.
There are many machine learning algorithms, however, that take parameters of other types, for example vectors or functions.
These can not be defined in a search space <a href="https://paradox.mlr-org.com/reference/ParamSet.html"><code>ParamSet</code></a>, and they are often given as <a href="https://paradox.mlr-org.com/reference/ParamUty.html"><code>ParamUty</code></a> in the <a href="https://mlr3.mlr-org.com/reference/Learner.html"><code>Learner</code></a>’s <a href="https://paradox.mlr-org.com/reference/ParamSet.html"><code>ParamSet</code></a>.
When trying to tune over these hyperparameters, it is necessary to perform a Transformation that changes the type of a parameter.</p>
<p>An example is the <code>class.weights</code> parameter of the SVM, which takes a named vector of class weights with one entry for each target class.
The trafo that would tune <code>class.weights</code> for the <a href="https://mlr3.mlr-org.com/reference/mlr_tasks_spam.html"><code>tsk("spam")</code></a> dataset could be:</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="searchspace.html#cb231-1" aria-hidden="true" tabindex="-1"></a>search_space <span class="ot">=</span> <span class="fu">ps</span>(</span>
<span id="cb231-2"><a href="searchspace.html#cb231-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">class.weights =</span> <span class="fu">p_dbl</span>(<span class="fl">0.1</span>, <span class="fl">0.9</span>, <span class="at">trafo =</span> <span class="cf">function</span>(x) <span class="fu">c</span>(<span class="at">spam =</span> x, <span class="at">nonspam =</span> <span class="dv">1</span> <span class="sc">-</span> x))</span>
<span id="cb231-3"><a href="searchspace.html#cb231-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb231-4"><a href="searchspace.html#cb231-4" aria-hidden="true" tabindex="-1"></a><span class="fu">generate_design_grid</span>(search_space, <span class="dv">3</span>)<span class="sc">$</span><span class="fu">transpose</span>()</span></code></pre></div>
<pre><code>## [[1]]
## [[1]]$class.weights
##    spam nonspam 
##     0.1     0.9 
## 
## 
## [[2]]
## [[2]]$class.weights
##    spam nonspam 
##     0.5     0.5 
## 
## 
## [[3]]
## [[3]]$class.weights
##    spam nonspam 
##     0.9     0.1</code></pre>
<p>(We are omitting <code>rbindlist()</code> in this example because it breaks the vector valued return elements.)</p>
</div>
<div id="autolevel" class="section level3" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Automatic Factor Level Transformation</h3>
<p>A common use-case is the necessity to specify a list of values that should all be tried (or sampled from).
It may be the case that a hyperparameter accepts function objects as values and a certain list of functions should be tried.
Or it may be that a choice of special numeric values should be tried.
For this, the <code>p_fct</code> constructor’s <code>level</code> argument may be a value that is not a <code>character</code> vector, but something else.
If, for example, only the values <code>0.1</code>, <code>3</code>, and <code>10</code> should be tried for the <code>cost</code> parameter, even when doing random search, then the following search space would achieve that:</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="searchspace.html#cb233-1" aria-hidden="true" tabindex="-1"></a>search_space <span class="ot">=</span> <span class="fu">ps</span>(</span>
<span id="cb233-2"><a href="searchspace.html#cb233-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">cost =</span> <span class="fu">p_fct</span>(<span class="fu">c</span>(<span class="fl">0.1</span>, <span class="dv">3</span>, <span class="dv">10</span>)),</span>
<span id="cb233-3"><a href="searchspace.html#cb233-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">kernel =</span> <span class="fu">p_fct</span>(<span class="fu">c</span>(<span class="st">&quot;polynomial&quot;</span>, <span class="st">&quot;radial&quot;</span>))</span>
<span id="cb233-4"><a href="searchspace.html#cb233-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb233-5"><a href="searchspace.html#cb233-5" aria-hidden="true" tabindex="-1"></a><span class="fu">rbindlist</span>(<span class="fu">generate_design_grid</span>(search_space, <span class="dv">3</span>)<span class="sc">$</span><span class="fu">transpose</span>())</span></code></pre></div>
<pre><code>##    cost     kernel
## 1:  0.1 polynomial
## 2:  0.1     radial
## 3:  3.0 polynomial
## 4:  3.0     radial
## 5: 10.0 polynomial
## 6: 10.0     radial</code></pre>
<p>This is equivalent to the following:</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="searchspace.html#cb235-1" aria-hidden="true" tabindex="-1"></a>search_space <span class="ot">=</span> <span class="fu">ps</span>(</span>
<span id="cb235-2"><a href="searchspace.html#cb235-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">cost =</span> <span class="fu">p_fct</span>(<span class="fu">c</span>(<span class="st">&quot;0.1&quot;</span>, <span class="st">&quot;3&quot;</span>, <span class="st">&quot;10&quot;</span>),</span>
<span id="cb235-3"><a href="searchspace.html#cb235-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">trafo =</span> <span class="cf">function</span>(x) <span class="fu">list</span>(<span class="st">`</span><span class="at">0.1</span><span class="st">`</span> <span class="ot">=</span> <span class="fl">0.1</span>, <span class="st">`</span><span class="at">3</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">3</span>, <span class="st">`</span><span class="at">10</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">10</span>)[[x]]),</span>
<span id="cb235-4"><a href="searchspace.html#cb235-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">kernel =</span> <span class="fu">p_fct</span>(<span class="fu">c</span>(<span class="st">&quot;polynomial&quot;</span>, <span class="st">&quot;radial&quot;</span>))</span>
<span id="cb235-5"><a href="searchspace.html#cb235-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb235-6"><a href="searchspace.html#cb235-6" aria-hidden="true" tabindex="-1"></a><span class="fu">rbindlist</span>(<span class="fu">generate_design_grid</span>(search_space, <span class="dv">3</span>)<span class="sc">$</span><span class="fu">transpose</span>())</span></code></pre></div>
<pre><code>##    cost     kernel
## 1:  0.1 polynomial
## 2:  0.1     radial
## 3:  3.0 polynomial
## 4:  3.0     radial
## 5: 10.0 polynomial
## 6: 10.0     radial</code></pre>
<p>This may seem silly, but makes sense when considering that factorial tuning parameters are always <code>character</code> values:</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="searchspace.html#cb237-1" aria-hidden="true" tabindex="-1"></a>search_space <span class="ot">=</span> <span class="fu">ps</span>(</span>
<span id="cb237-2"><a href="searchspace.html#cb237-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">cost =</span> <span class="fu">p_fct</span>(<span class="fu">c</span>(<span class="fl">0.1</span>, <span class="dv">3</span>, <span class="dv">10</span>)),</span>
<span id="cb237-3"><a href="searchspace.html#cb237-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">kernel =</span> <span class="fu">p_fct</span>(<span class="fu">c</span>(<span class="st">&quot;polynomial&quot;</span>, <span class="st">&quot;radial&quot;</span>))</span>
<span id="cb237-4"><a href="searchspace.html#cb237-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb237-5"><a href="searchspace.html#cb237-5" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(search_space<span class="sc">$</span>params<span class="sc">$</span>cost<span class="sc">$</span>levels)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>Be aware that this results in an “unordered” hyperparameter, however.
Tuning algorithms that make use of ordering information of parameters, like genetic algorithms or model based optimization, will perform worse when this is done.
For these algorithms, it may make more sense to define a <code>p_dbl</code> or <code>p_int</code> with a more fitting trafo.</p>
<p>The <code>class.weights</code> case from above can also be implemented like this, if there are only a few candidates of <code>class.weights</code> vectors that should be tried.
Note that the <code>levels</code> argument of <code>p_fct</code> must be named if there is no easy way for <code>as.character()</code> to create names:</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="searchspace.html#cb239-1" aria-hidden="true" tabindex="-1"></a>search_space <span class="ot">=</span> <span class="fu">ps</span>(</span>
<span id="cb239-2"><a href="searchspace.html#cb239-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">class.weights =</span> <span class="fu">p_fct</span>(</span>
<span id="cb239-3"><a href="searchspace.html#cb239-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(</span>
<span id="cb239-4"><a href="searchspace.html#cb239-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">candidate_a =</span> <span class="fu">c</span>(<span class="at">spam =</span> <span class="fl">0.5</span>, <span class="at">nonspam =</span> <span class="fl">0.5</span>),</span>
<span id="cb239-5"><a href="searchspace.html#cb239-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">candidate_b =</span> <span class="fu">c</span>(<span class="at">spam =</span> <span class="fl">0.3</span>, <span class="at">nonspam =</span> <span class="fl">0.7</span>)</span>
<span id="cb239-6"><a href="searchspace.html#cb239-6" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb239-7"><a href="searchspace.html#cb239-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb239-8"><a href="searchspace.html#cb239-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb239-9"><a href="searchspace.html#cb239-9" aria-hidden="true" tabindex="-1"></a><span class="fu">generate_design_grid</span>(search_space)<span class="sc">$</span><span class="fu">transpose</span>()</span></code></pre></div>
<pre><code>## [[1]]
## [[1]]$class.weights
##    spam nonspam 
##     0.5     0.5 
## 
## 
## [[2]]
## [[2]]$class.weights
##    spam nonspam 
##     0.3     0.7</code></pre>
</div>
<div id="searchspace-depends" class="section level3" number="3.2.4">
<h3><span class="header-section-number">3.2.4</span> Parameter Dependencies (<code>depends</code>)</h3>
<p>Some parameters are only relevant when another parameter has a certain value, or one of several values.
The SVM, for example, has the <code>degree</code> parameter that is only valid when <code>kernel</code> is <code>"polynomial"</code>.
This can be specified using the <code>depends</code> argument.
It is an expression that must involve other parameters and be of the form <code>&lt;param&gt; == &lt;scalar&gt;</code>, <code>&lt;param&gt; %in% &lt;vector&gt;</code>, or multiple of these chained by <code>&amp;&amp;</code>.
To tune the <code>degree</code> parameter, one would need to do the following:</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="searchspace.html#cb241-1" aria-hidden="true" tabindex="-1"></a>search_space <span class="ot">=</span> <span class="fu">ps</span>(</span>
<span id="cb241-2"><a href="searchspace.html#cb241-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">cost =</span> <span class="fu">p_dbl</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>, <span class="at">trafo =</span> <span class="cf">function</span>(x) <span class="dv">10</span><span class="sc">^</span>x),</span>
<span id="cb241-3"><a href="searchspace.html#cb241-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">kernel =</span> <span class="fu">p_fct</span>(<span class="fu">c</span>(<span class="st">&quot;polynomial&quot;</span>, <span class="st">&quot;radial&quot;</span>)),</span>
<span id="cb241-4"><a href="searchspace.html#cb241-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">degree =</span> <span class="fu">p_int</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="at">depends =</span> kernel <span class="sc">==</span> <span class="st">&quot;polynomial&quot;</span>)</span>
<span id="cb241-5"><a href="searchspace.html#cb241-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb241-6"><a href="searchspace.html#cb241-6" aria-hidden="true" tabindex="-1"></a><span class="fu">rbindlist</span>(<span class="fu">generate_design_grid</span>(search_space, <span class="dv">3</span>)<span class="sc">$</span><span class="fu">transpose</span>(), <span class="at">fill =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##     cost     kernel degree
##  1:  0.1 polynomial      1
##  2:  0.1 polynomial      2
##  3:  0.1 polynomial      3
##  4:  0.1     radial     NA
##  5:  1.0 polynomial      1
##  6:  1.0 polynomial      2
##  7:  1.0 polynomial      3
##  8:  1.0     radial     NA
##  9: 10.0 polynomial      1
## 10: 10.0 polynomial      2
## 11: 10.0 polynomial      3
## 12: 10.0     radial     NA</code></pre>
</div>
<div id="creating-tuning-paramsets-from-other-paramsets" class="section level3" number="3.2.5">
<h3><span class="header-section-number">3.2.5</span> Creating Tuning ParamSets from other ParamSets</h3>
<p>Having to define a tuning <a href="https://paradox.mlr-org.com/reference/ParamSet.html"><code>ParamSet</code></a> for a <a href="https://mlr3.mlr-org.com/reference/Learner.html"><code>Learner</code></a> that already has parameter set information may seem unnecessarily tedious, and there is indeed a way to create tuning <a href="https://paradox.mlr-org.com/reference/ParamSet.html"><code>ParamSets</code></a> from a <a href="https://mlr3.mlr-org.com/reference/Learner.html"><code>Learner</code></a>’s <a href="https://paradox.mlr-org.com/reference/ParamSet.html"><code>ParamSet</code></a>, making use of as much information as already available.</p>
<p>This is done by setting values of a <a href="https://mlr3.mlr-org.com/reference/Learner.html"><code>Learner</code></a>’s <a href="https://paradox.mlr-org.com/reference/ParamSet.html"><code>ParamSet</code></a> to so-called <a href="https://paradox.mlr-org.com/reference/to_tune.html"><code>TuneToken</code></a>s, constructed with a <a href="https://paradox.mlr-org.com/reference/to_tune.html"><code>to_tune</code></a> call.
This can be done in the same way that other hyperparameters are set to specific values.
It can be understood as the hyperparameters being tagged for later tuning.
The resulting <a href="https://paradox.mlr-org.com/reference/ParamSet.html"><code>ParamSet</code></a> used for tuning can be retrieved using the <code>$search_space()</code> method.</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="searchspace.html#cb243-1" aria-hidden="true" tabindex="-1"></a>learner <span class="ot">=</span> <span class="fu">lrn</span>(<span class="st">&quot;classif.svm&quot;</span>)</span>
<span id="cb243-2"><a href="searchspace.html#cb243-2" aria-hidden="true" tabindex="-1"></a>learner<span class="sc">$</span>param_set<span class="sc">$</span>values<span class="sc">$</span>kernel <span class="ot">=</span> <span class="st">&quot;polynomial&quot;</span>  <span class="co"># for example</span></span>
<span id="cb243-3"><a href="searchspace.html#cb243-3" aria-hidden="true" tabindex="-1"></a>learner<span class="sc">$</span>param_set<span class="sc">$</span>values<span class="sc">$</span>degree <span class="ot">=</span> <span class="fu">to_tune</span>(<span class="at">lower =</span> <span class="dv">1</span>, <span class="at">upper =</span> <span class="dv">3</span>)</span>
<span id="cb243-4"><a href="searchspace.html#cb243-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb243-5"><a href="searchspace.html#cb243-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(learner<span class="sc">$</span>param_set<span class="sc">$</span><span class="fu">search_space</span>())</span></code></pre></div>
<pre><code>## &lt;ParamSet&gt;
##        id    class lower upper nlevels        default value
## 1: degree ParamInt     1     3       3 &lt;NoDefault[3]&gt;</code></pre>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="searchspace.html#cb245-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rbindlist</span>(<span class="fu">generate_design_grid</span>(learner<span class="sc">$</span>param_set<span class="sc">$</span><span class="fu">search_space</span>(), <span class="dv">3</span>)<span class="sc">$</span><span class="fu">transpose</span>())</span></code></pre></div>
<pre><code>##    degree
## 1:      1
## 2:      2
## 3:      3</code></pre>
<p>It is possible to omit <code>lower</code> here, because it can be inferred from the lower bound of the <code>degree</code> parameter itself.
For other parameters, that are already bounded, it is possible to not give any bounds at all, because their ranges are already bounded.
An example is the logical <code>shrinking</code> hyperparameter:</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="searchspace.html#cb247-1" aria-hidden="true" tabindex="-1"></a>learner<span class="sc">$</span>param_set<span class="sc">$</span>values<span class="sc">$</span>shrinking <span class="ot">=</span> <span class="fu">to_tune</span>()</span>
<span id="cb247-2"><a href="searchspace.html#cb247-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb247-3"><a href="searchspace.html#cb247-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(learner<span class="sc">$</span>param_set<span class="sc">$</span><span class="fu">search_space</span>())</span></code></pre></div>
<pre><code>## &lt;ParamSet&gt;
##           id    class lower upper nlevels        default value
## 1:    degree ParamInt     1     3       3 &lt;NoDefault[3]&gt;      
## 2: shrinking ParamLgl    NA    NA       2           TRUE</code></pre>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="searchspace.html#cb249-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rbindlist</span>(<span class="fu">generate_design_grid</span>(learner<span class="sc">$</span>param_set<span class="sc">$</span><span class="fu">search_space</span>(), <span class="dv">3</span>)<span class="sc">$</span><span class="fu">transpose</span>())</span></code></pre></div>
<pre><code>##    degree shrinking
## 1:      1      TRUE
## 2:      1     FALSE
## 3:      2      TRUE
## 4:      2     FALSE
## 5:      3      TRUE
## 6:      3     FALSE</code></pre>
<p><a href="https://paradox.mlr-org.com/reference/to_tune.html"><code>to_tune</code></a> can also be constructed with a <a href="https://paradox.mlr-org.com/reference/Domain.html"><code>Domain</code></a> object, i.e. something constructed with a <code>p_***</code> call.
This way it is possible to tune continuous parameters with discrete values, or to give trafos or dependencies.
One could, for example, tune the <code>cost</code> as above on three given special values, and introduce a dependency of <code>shrinking</code> on it.
Notice that a short form for <code>to_tune(&lt;levels&gt;)</code> is a short form of <code>to_tune(p_fct(&lt;levels&gt;))</code>.
(When introducing the dependency, we need to use the <code>degree</code> value from <em>before</em> the implicit trafo, which is the name or <code>as.character()</code> of the respective value, here <code>"val2"</code>!)</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="searchspace.html#cb251-1" aria-hidden="true" tabindex="-1"></a>learner<span class="sc">$</span>param_set<span class="sc">$</span>values<span class="sc">$</span>type <span class="ot">=</span> <span class="st">&quot;C-classification&quot;</span>  <span class="co"># needs to be set because of a bug in paradox</span></span>
<span id="cb251-2"><a href="searchspace.html#cb251-2" aria-hidden="true" tabindex="-1"></a>learner<span class="sc">$</span>param_set<span class="sc">$</span>values<span class="sc">$</span>cost <span class="ot">=</span> <span class="fu">to_tune</span>(<span class="fu">c</span>(<span class="at">val1 =</span> <span class="fl">0.3</span>, <span class="at">val2 =</span> <span class="fl">0.7</span>))</span>
<span id="cb251-3"><a href="searchspace.html#cb251-3" aria-hidden="true" tabindex="-1"></a>learner<span class="sc">$</span>param_set<span class="sc">$</span>values<span class="sc">$</span>shrinking <span class="ot">=</span> <span class="fu">to_tune</span>(<span class="fu">p_lgl</span>(<span class="at">depends =</span> cost <span class="sc">==</span> <span class="st">&quot;val2&quot;</span>))</span>
<span id="cb251-4"><a href="searchspace.html#cb251-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-5"><a href="searchspace.html#cb251-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(learner<span class="sc">$</span>param_set<span class="sc">$</span><span class="fu">search_space</span>())</span></code></pre></div>
<pre><code>## &lt;ParamSet&gt;
##           id    class lower upper nlevels        default parents value
## 1:      cost ParamFct    NA    NA       2 &lt;NoDefault[3]&gt;              
## 2:    degree ParamInt     1     3       3 &lt;NoDefault[3]&gt;              
## 3: shrinking ParamLgl    NA    NA       2 &lt;NoDefault[3]&gt;    cost      
## Trafo is set.</code></pre>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="searchspace.html#cb253-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rbindlist</span>(<span class="fu">generate_design_grid</span>(learner<span class="sc">$</span>param_set<span class="sc">$</span><span class="fu">search_space</span>(), <span class="dv">3</span>)<span class="sc">$</span><span class="fu">transpose</span>(), <span class="at">fill =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##    degree cost shrinking
## 1:      1  0.3        NA
## 2:      1  0.7      TRUE
## 3:      1  0.7     FALSE
## 4:      2  0.3        NA
## 5:      2  0.7      TRUE
## 6:      2  0.7     FALSE
## 7:      3  0.3        NA
## 8:      3  0.7      TRUE
## 9:      3  0.7     FALSE</code></pre>
<p>The <code>search_space()</code> picks up dependencies fromt the underlying <a href="https://paradox.mlr-org.com/reference/ParamSet.html"><code>ParamSet</code></a> automatically.
So if the <code>kernel</code> is tuned, then <code>degree</code> automatically gets the dependency on it, without us having to specify that.
(Here we reset <code>cost</code> and <code>shrinking</code> to <code>NULL</code> for the sake of clarity of the generated output.)</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="searchspace.html#cb255-1" aria-hidden="true" tabindex="-1"></a>learner<span class="sc">$</span>param_set<span class="sc">$</span>values<span class="sc">$</span>cost <span class="ot">=</span> <span class="cn">NULL</span></span>
<span id="cb255-2"><a href="searchspace.html#cb255-2" aria-hidden="true" tabindex="-1"></a>learner<span class="sc">$</span>param_set<span class="sc">$</span>values<span class="sc">$</span>shrinking <span class="ot">=</span> <span class="cn">NULL</span></span>
<span id="cb255-3"><a href="searchspace.html#cb255-3" aria-hidden="true" tabindex="-1"></a>learner<span class="sc">$</span>param_set<span class="sc">$</span>values<span class="sc">$</span>kernel <span class="ot">=</span> <span class="fu">to_tune</span>(<span class="fu">c</span>(<span class="st">&quot;polynomial&quot;</span>, <span class="st">&quot;radial&quot;</span>))</span>
<span id="cb255-4"><a href="searchspace.html#cb255-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb255-5"><a href="searchspace.html#cb255-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(learner<span class="sc">$</span>param_set<span class="sc">$</span><span class="fu">search_space</span>())</span></code></pre></div>
<pre><code>## &lt;ParamSet&gt;
##        id    class lower upper nlevels        default parents value
## 1: degree ParamInt     1     3       3 &lt;NoDefault[3]&gt;  kernel      
## 2: kernel ParamFct    NA    NA       2 &lt;NoDefault[3]&gt;</code></pre>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="searchspace.html#cb257-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rbindlist</span>(<span class="fu">generate_design_grid</span>(learner<span class="sc">$</span>param_set<span class="sc">$</span><span class="fu">search_space</span>(), <span class="dv">3</span>)<span class="sc">$</span><span class="fu">transpose</span>(), <span class="at">fill =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##        kernel degree
## 1: polynomial      1
## 2: polynomial      2
## 3: polynomial      3
## 4:     radial     NA</code></pre>
<p>It is even possible to define whole <a href="https://paradox.mlr-org.com/reference/ParamSet.html"><code>ParamSet</code></a>s that get tuned over for a single parameter.
This may be especially useful for vector hyperparameters that should be searched along multiple dimensions.
This <a href="https://paradox.mlr-org.com/reference/ParamSet.html"><code>ParamSet</code></a> must, however, have an <code>.extra_trafo</code> that returns a list with a single element, because it corresponds to a single hyperparameter that is being tuned.
Suppose the <code>class.weights</code> hyperparameter should be tuned along two dimensions:</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="searchspace.html#cb259-1" aria-hidden="true" tabindex="-1"></a>learner<span class="sc">$</span>param_set<span class="sc">$</span>values<span class="sc">$</span>class.weights <span class="ot">=</span> <span class="fu">to_tune</span>(</span>
<span id="cb259-2"><a href="searchspace.html#cb259-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ps</span>(<span class="at">spam =</span> <span class="fu">p_dbl</span>(<span class="fl">0.1</span>, <span class="fl">0.9</span>), <span class="at">nonspam =</span> <span class="fu">p_dbl</span>(<span class="fl">0.1</span>, <span class="fl">0.9</span>),</span>
<span id="cb259-3"><a href="searchspace.html#cb259-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">.extra_trafo =</span> <span class="cf">function</span>(x, param_set) <span class="fu">list</span>(<span class="fu">c</span>(<span class="at">spam =</span> x<span class="sc">$</span>spam, <span class="at">nonspam =</span> x<span class="sc">$</span>nonspam))</span>
<span id="cb259-4"><a href="searchspace.html#cb259-4" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb259-5"><a href="searchspace.html#cb259-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">generate_design_grid</span>(learner<span class="sc">$</span>param_set<span class="sc">$</span><span class="fu">search_space</span>(), <span class="dv">3</span>)<span class="sc">$</span><span class="fu">transpose</span>(), <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [[1]]
## [[1]]$kernel
## [1] &quot;polynomial&quot;
## 
## [[1]]$degree
## [1] 1
## 
## [[1]]$class.weights
##    spam nonspam 
##     0.1     0.1 
## 
## 
## [[2]]
## [[2]]$kernel
## [1] &quot;polynomial&quot;
## 
## [[2]]$degree
## [1] 1
## 
## [[2]]$class.weights
##    spam nonspam 
##     0.1     0.5 
## 
## 
## [[3]]
## [[3]]$kernel
## [1] &quot;polynomial&quot;
## 
## [[3]]$degree
## [1] 1
## 
## [[3]]$class.weights
##    spam nonspam 
##     0.1     0.9</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tuning.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="nested-resampling.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mlr-org/mlr3book/edit/master/bookdown/03-optimization-searchspace.Rmd",
"text": "Edit this chapter"
},
"history": {
"link": "https://github.com/mlr-org/mlr3book/commits/master/bookdown/03-optimization-searchspace.Rmd",
"text": "Edit history"
},
"view": {
"link": null,
"text": null
},
"download": [["mlr3book.pdf", "PDF"]],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
